<!DOCTYPE html>
<div id="form-layouts-editstudent" class="row" 
        ng-controller="FormLayoutsControllerEditStudent as vmstudent"
        >
<!--                ng-init="active[vmstudent.getActiveTab()]= true" -->

  <div class="col-lg-12">
    <uib-tabset type="pills" active="vmstudent.active">
      <uib-tab 
            index="1"
            id="tab-studentinfo" 
            heading="Student Information"
            select="vmstudent.setActiveTab(1,'studentinfoselect');infotabShown = !infotabShown" deselect="infotabShown = !infotabShown"
        >
        <div class="row">
          <div>
            <div class="col-lg-12">
              <div class="panel panel-blue">
                <div class="panel-heading">Student</div>
                <div class="panel-body pan">
                  <form action="" novalidate name="editstudent" class="form-horizontal">
                    <div class="form-body pal">
                      <h3 class="block-heading">Student Information</h3>
                      <div id="studentid" ng-model="vmstudent.students.ID" >{{vmstudent.students.ID}}</div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.FirstName.$invalid, 'has-success': !editstudent.FirstName.$invalid}" class="form-group">
                            <label for="inputFirstName" class="control-label">First Name </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.FirstName.$dirty" ng-class="editstudent.FirstName.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputFirstName" type="text" placeholder="First Name" name="FirstName" ng-model="vmstudent.students.FirstName" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.FirstName.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.LastName.$invalid, 'has-success': !editstudent.LastName.$invalid}" class="form-group">
                            <label for="inputLastName" class="control-label">LastName </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.LastName.$dirty" ng-class="editstudent.LastName.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputLastName" type="text" placeholder="Last Name" name="LastName" ng-model="vmstudent.students.LastName" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.LastName.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
<!-- mlc -->
                    <div class="row">
                      <div class="col-md-3">
                        <div class="row">
                          <div class="col-md-12">
                                <span class="thumbnail" ng-switch on="vmstudent.students.pictureurldecache">
                                   <img ng-switch-when="missing" ng-src='../images/students/missingstudentpicture.png'/>
                                   <img ng-switch-default   ng-src='../images/students/{{vmstudent.students.pictureurldecache}}'/>
                                </span>
                          </div>
                        </div>

                        <div class="row row-icons">
                          <div ng-controller="ModalPicUploadController as vmpicmodal">
                            <!--                            <pre>{{ vmpicmodal }}</pre>
-->
                        <div class="row">
<div id="photowrapper">
<span>
<div>
<!--                        <span ng-switch on="vmstudent.students.pictureurldecache">
                        <div ng-switch-when="missingstudentpicture.png">
-->                        
<div id="my_photo_booth">
<pre>firstname {{vmstudent.students.FirstName}}</pre>
    <div id="my_camera" style="width:320px; height:240px;"></div>

<!--
    <script language="JavaScript">
        Webcam.attach( '#my_camera' );
    </script>
-->
        <form>
<!--			<div id="pre_take_buttons" ng-show="vmpicmodal.pre_take_buttons"> -->
			<div id="pre_take_buttons" >
				<!-- This button is shown before the user takes a snapshot -->
				<input type=button value="Take Snapshot" ng-click="vmpicmodal.preview_snapshot()">
				<input type=button value="Camera On" ng-click="vmpicmodal.camera_on()">
			</div>
			<div id="post_take_buttons" ng-show="vmpicmodal.post_take_buttons">
				<!-- These buttons are shown after a snapshot is taken -->
				<input type=button value="&lt; Take Another" ng-click="vmpicmodal.cancel_preview()">
				<input type=button value="Save Photo &gt;" ng-click="vmpicmodal.save_photo()" style="font-weight:bold;">
				<input type=button value="Camera Off" ng-click="camera_off()">
			</div>
		</form>

</div>
<div id="results" style="display:none">
		<!-- Your captured image will appear here... -->
</div>
	
<!--
<script language="JavaScript">
		// preload shutter audio clip
		var shutter = new Audio();
		shutter.autoplay = false;
		shutter.src = navigator.userAgent.match(/Firefox/) ? '../images/shutter.ogg' : '../images/shutter.mp3';
		
		function preview_snapshot() {
			// play sound effect
			try { shutter.currentTime = 0; } catch(e) {;} // fails in IE
			shutter.play();
			
			// freeze camera so user can preview current frame
			Webcam.freeze();
			
			// swap button sets
			document.getElementById('pre_take_buttons').style.display = 'none';
			document.getElementById('post_take_buttons').style.display = '';
		}
		
		function cancel_preview() {
			// cancel preview freeze and return to live camera view
			Webcam.unfreeze();
			
			// swap buttons back to first set
			document.getElementById('pre_take_buttons').style.display = '';
			document.getElementById('post_take_buttons').style.display = 'none';
		}
		function test() {
			var lname = document.getElementById('inputLastName').value;
		    console.log("cam",lname);
		}
		function camera_off() {
			Webcam.reset();
			
			// swap buttons back to first set
			document.getElementById('pre_take_buttons').style.display = '';
			document.getElementById('post_take_buttons').style.display = 'none';
		}
		function camera_on() {
            Webcam.attach( '#my_camera' );
			
			// swap buttons back to first set
			document.getElementById('pre_take_buttons').style.display = 'none';
			document.getElementById('post_take_buttons').style.display = '';
		}
		
		function save_photo() {
			// actually snap photo (from preview freeze) and display it
			Webcam.snap( function(data_uri) {


			var lname = document.getElementById('inputLastName').value;
			var fname = document.getElementById('inputFirstName').value;
			var stuid = document.getElementById('studentid').innerHTML;
            var picnm = lname + "." + fname + "." + stuid + ".jpg";
            var ur = '../v1/picupload?picnm=' + picnm;
            
            console.log("picnm",ur);
            
				// display results in page
				document.getElementById('results').innerHTML = 
					'<h2>Here is your large, cropped image:</h2>' + 
					'<img src="'+data_uri+'"/><br/></br>' + 
				//	'<a href="'+data_uri+'" target="_blank">Open image in new window...</a>';
				
				// shut down camera, stop capturing
				Webcam.reset();
                Webcam.upload( data_uri, ur, function(code, text) {
                    console.log("upload called",code,text);
                });
                 Webcam.on( 'uploadComplete', function(code, text) {
                    // Upload complete!
                    // 'code' will be the HTTP response code from the server, e.g. 200
                    // 'text' will be the raw response content
                    console.log("uploaded",code,text);
                    var em = angular.element(document.getElementById('form-layouts-editstudent'));
                    //console.log("em", em);
                    var emscope = em.scope();
                    console.log("emscope", emscope);
                    setTimeout(function() {
                        emscope.vmstudent.setStudentPIC(picnm);
                        console.log("finished setpic");
                    }, 1000);    

                } );
                
				// show results, hide photo booth
			//	document.getElementById('results').style.display = '';
			//	document.getElementById('my_photo_booth').style.display = 'none';
			} );
		}
	</script>
	-->
                        </div>
   <!--                     <div ng-switch-default>
                            
                        </div>
    -->                    
                        </span>
</div> <!--end photowrapper                       --> 
                        </div>

                            <script id="myPickupload.html" type="text/ng-template">
                                <div class="modal-header">
                                  <h3 class="modal-title">Select Student Picture</h3>
                                </div>
                                <div class="modal-body">
                                  <div class="row" ng-controller="StudentUploadController as vmstupicupload" nv-file-drop="" uploader="vmstupicupload.uploader">
                                    <div class="col-lg-12">
                                      <div>

                                        <div class="col-md-3">
                                          <input type="file" nv-file-select="" uploader="vmstupicupload.uploader" single />
                                          <br/>

                                        </div>

                                        <div class="col-md-9" style="margin-bottom: 40px">
                            <!--                               <pre>{{vmpicselect | json}}</pre>
                            -->
                                          <table class="table">
                                            <thead>
                                              <tr>
                                                <th width="20%">Name</th>
                                                <th ng-show="vmstupicupload.uploader.isHTML5">Size</th>
                                                <th ng-show="vmstupicupload.uploader.isHTML5">Progress</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                              <tr ng-repeat="item in vmstupicupload.uploader.queue">
                                                <td>
                                                  <strong>{{ item.file.name }}</strong>
                                                  <!-- Image preview -->
                                                  <!--auto height-->
                                                  <!--<div ng-thumb="{ file: item.file, width: 100 }"></div>-->
                                                  <!--auto width-->
                                                  <div ng-show="vmstupicupload.uploader.isHTML5" ng-thumbupload="{ file: item._file, height: 100 }"></div>
                                                  <!--fixed width and height -->
                                                  <!--<div ng-thumb="{ file: item.file, width: 100, height: 100 }"></div>-->
                                                </td>
                                                <td ng-show="vmstupicupload.uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>
                                                <td ng-show="vmstupicupload.uploader.isHTML5">
                                                  <div class="progress" style="margin-bottom: 0;">
                                                    <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
                                                  </div>
                                                </td>
                                                <td class="text-center">
                                                  <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                                                  <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                                  <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                                                </td>
                                                <td nowrap>
                                                  <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                                    <span class="glyphicon glyphicon-upload"></span> Upload
                                                  </button>
                                                  <button type="button" class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">
                                                    <span class="glyphicon glyphicon-ban-circle"></span> Cancel
                                                  </button>
                                                  <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
                                                    <span class="glyphicon glyphicon-trash"></span> Remove
                                                  </button>
                                                </td>
                                              </tr>
                                            </tbody>
                                          </table>

                                        </div>



                                      </div>
                                    </div>
                                  </div>


                                </div>
                                <div class="modal-footer">
                                  <button class="btn btn-primary" type="button" ng-click="vmpicselect.ok()">OK</button>
                                  <button class="btn btn-warning" type="button" ng-click="vmpicselect.cancel()">Cancel</button>
                                </div>
                            </script> 
                            <script id="myPicksearch.html" type="text/ng-template">
                                <div class="modal-header">
                                  <h3 class="modal-title">Select Student Picture</h3>
                                </div>
                                <div class="modal-body">
                                    <div ui-grid="vmpicsearch.gridOptions" 
                                        ui-grid-pagination ui-grid-cellNav ui-grid-selection ui-grid-auto-resize class="mygrid" ng-style="{height: (3*128)+132+'px'}"></div>

                                </div>
                                <div class="modal-footer">
                                  <button class="btn btn-primary" type="button" ng-click="vmpicsearch.ok()">OK</button>
                                  <button class="btn btn-warning" type="button" ng-click="vmpicsearch.cancel()">Cancel</button>
                                </div>
                            </script>

                            <div class="col-md-8">
                              <!--
                                <div ng-hide="vmstudent.students.pictureurl" class="form-group">
                                  <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" class="glyphicon tooltips"></i>
                                    <input id="inputpictureurl" type="text" placeholder="File Name" name="pictureurl" ng-model="vmstudent.students.pictureurl" ng-value="vmpicmodal.picfile" minLength="2" maxLength="30" class="form-control">
                                  </div>
                                  <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" class="glyphicon tooltips"></i>
                                  </div>
                                </div> -->
                              <input class="form-control" id="picfile" name="picfile" ng-show=
                              "false" ng-model="vmpicmodal.picfile" placeholder="File Name" type=
                              "text"> 
                              <button class="btn btn-default" ng-click=
                              "vmstudent.setStudentPIC(vmpicmodal.picfile); vmpicmodal.picfile=''"
                              ng-show="vmpicmodal.picfile" type="button">Save Picture</button>

                              <div class="thumbnail" ng-show="vmpicmodal.picfile"><img ng-src=
                              "./images/students/{{vmstudent.students.oldpicfile}}.bkup"/>
                              </div>
                            </div>


                            <div class="col-md-4">
                              <a href ng-click="vmpicmodal.openpick()"><i class=
                              "glyphicon glyphicon-upload"></i></a> 
                              <!--    <button type="button" class="btn btn-default" ng-click="vmpickmodal.open()">Open me!</button> -->
                               
                              <!--    <div ng-show="vmpicmodal.picfile">Selection from a modal: {{ vmpicmodal.picfile }}</div> -->
                               <a href ng-click="vmpicmodal.opensearch()"><i class=
                              "glyphicon glyphicon-search"></i></a>
                               <a href ng-click="vmpicmodal.openCamera()"><i class=
                              "glyphicon glyphicon-camera"></i></a>

                              
                            </div>
                          </div>
                        </div>
                      </div>


                      <div class="col-md-9">
                        <div class="col-md-6">
                          <div class="form-group" ng-class=
                          "{'has-error': editstudent.Email.$invalid, 'has-success': !editstudent.Email.$invalid}">
                          <label class="control-label" for="inputEmail">Email</label>

                            <div class="input-icon right">
                              <i class="glyphicon tooltips" data-hover="tooltip"
                              data-original-title="Correct" ng-class=
                              "editstudent.Email.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'"
                              ng-show="editstudent.Email.$dirty"></i> <input class="form-control"
                              id="inputEmail" maxlength="80" name="Email" ng-change=
                              "vmstudent.updateStudent()" ng-model="vmstudent.students.Email"
                              ng-model-options=
                              "{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                              placeholder="Email Address" type="email">
                            </div>


                            <div class="has-error" ng-messages="editstudent.Email.$error" role=
                            "alert" style="color:maroon">
                              <div ng-message="required">
                                You did not enter a field
                              </div>


                              <div ng-message="minlength">
                                Your field is too short
                              </div>


                              <div ng-message="maxlength">
                                Your field is too long
                              </div>


                              <div ng-message="email">
                                Your email is missing @ and/or a period
                              </div>
                            </div>
                          </div>
                        </div>


                        <div class="col-md-6">
                          <div class="form-group" ng-class=
                          "{'has-error': editstudent.Email2.$invalid, 'has-success': !editstudent.Email2.$invalid}">
                          <label class="control-label" for="inputEmail2">Email2</label>

                            <div class="input-icon right">
                              <i class="glyphicon tooltips" data-hover="tooltip"
                              data-original-title="Correct" ng-class=
                              "editstudent.Email2.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'"
                              ng-show="editstudent.Email2.$dirty"></i> <input class="form-control"
                              id="inputEmail2" maxlength="80" name="Email2" ng-change=
                              "vmstudent.updateStudent()" ng-model="vmstudent.students.Email2"
                              ng-model-options=
                              "{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                              placeholder="Alternate Email" type="email">
                            </div>


                            <div class="has-error" ng-messages="editstudent.Email2.$error" role=
                            "alert" style="color:maroon">
                              <div ng-message="required">
                                You did not enter a field
                              </div>


                              <div ng-message="minlength">
                                Your field is too short
                              </div>


                              <div ng-message="maxlength">
                                Your field is too long
                              </div>


                              <div ng-message="email">
                                Your email is missing @ and/or a period
                              </div>
                            </div>
                          </div>
                        </div>
                        <!--   </div>
                      <div class="row"> -->


                        <div class="col-md-6">
                          <div class="form-group" ng-class=
                          "{'has-error': editstudent.Phone.$invalid, 'has-success': !editstudent.Phone.$invalid}">
                          <label class="control-label" for="inputPhone">Phone</label>

                            <div class="input-icon right">
                              <i class="glyphicon tooltips" data-hover="tooltip"
                              data-original-title="Correct" ng-class=
                              "editstudent.Phone.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'"
                              ng-show="editstudent.Phone.$dirty"></i> <input class="form-control"
                              id="inputPhone" name="Phone" ng-change="vmstudent.updateStudent()"
                              ng-model="vmstudent.students.Phone" ng-model-options=
                              "{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                              placeholder="" type="text" ui-mask="(999) 999-9999">
                            </div>


                            <div class="has-error" ng-messages="editstudent.Phone.$error" role=
                            "alert" style="color:maroon">
                              <div ng-message="required">
                                You did not enter a field
                              </div>


                              <div ng-message="minlength">
                                Your field is too short
                              </div>


                              <div ng-message="maxlength">
                                Your field is too long
                              </div>


                              <div ng-message="email">
                                Your email is missing @ and/or a period
                              </div>
                            </div>
                          </div>
                        </div>


                        <div class="col-md-6">
                          <div class="form-group" ng-class=
                          "{'has-error': editstudent.AltPhone.$invalid, 'has-success': !editstudent.AltPhone.$invalid}">
                          <label class="control-label" for="inputAltPhone">AltPhone</label>

                            <div class="input-icon right">
                              <i class="glyphicon tooltips" data-hover="tooltip"
                              data-original-title="Correct" ng-class=
                              "editstudent.AltPhone.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'"
                              ng-show="editstudent.AltPhone.$dirty"></i> <input class=
                              "form-control" id="inputAltPhone" name="AltPhone" ng-change=
                              "vmstudent.updateStudent()" ng-model="vmstudent.students.AltPhone"
                              ng-model-options=
                              "{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                              placeholder="" type="text" ui-mask="(999) 999-9999">
                            </div>


                            <div class="has-error" ng-messages="editstudent.AltPhone.$error" role=
                            "alert" style="color:maroon">
                              <div ng-message="required">
                                You did not enter a field
                              </div>


                              <div ng-message="minlength">
                                Your field is too short
                              </div>


                              <div ng-message="maxlength">
                                Your field is too long
                              </div>


                              <div ng-message="email">
                                Your email is missing @ and/or a period
                              </div>
                            </div>
                          </div>
                        </div>
                        <!--  </div>
                      <div class="row"> -->


                        <div class="col-md-6">
                          <div class="form-group" ng-class=
                          "{'has-error': editstudent.phoneExt.$invalid, 'has-success': !editstudent.phoneExt.$invalid}">
                          <label class="control-label" for="inputphoneExt">PhoneExt</label>

                            <div class="input-icon right">
                              <i class="glyphicon tooltips" data-hover="tooltip"
                              data-original-title="Correct" ng-class=
                              "editstudent.phoneExt.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'"
                              ng-show="editstudent.phoneExt.$dirty"></i> <input class=
                              "form-control" id="inputphoneExt" maxlength="5" name="phoneExt"
                              ng-change="vmstudent.updateStudent()" ng-model=
                              "vmstudent.students.phoneExt" ng-model-options=
                              "{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                              placeholder="9999" type="text">
                            </div>


                            <div class="has-error" ng-messages="editstudent.phoneExt.$error" role=
                            "alert" style="color:maroon">
                              <div ng-message="required">
                                You did not enter a field
                              </div>


                              <div ng-message="minlength">
                                Your field is too short
                              </div>


                              <div ng-message="maxlength">
                                Your field is too long
                              </div>


                              <div ng-message="email">
                                Your email is missing @ and/or a period
                              </div>
                            </div>
                          </div>
                        </div>


                        <div class="col-md-6">
                          <div class="form-group" ng-class=
                          "{'has-error': editstudent.altPhoneExt.$invalid, 'has-success': !editstudent.altPhoneExt.$invalid}">
                          <label class="control-label" for="inputaltPhoneExt">AltPhoneExt</label>

                            <div class="input-icon right">
                              <i class="glyphicon tooltips" data-hover="tooltip"
                              data-original-title="Correct" ng-class=
                              "editstudent.altPhoneExt.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'"
                              ng-show="editstudent.altPhoneExt.$dirty"></i> <input class=
                              "form-control" id="inputaltPhoneExt" maxlength="5" name="altPhoneExt"
                              ng-change="vmstudent.updateStudent()" ng-model=
                              "vmstudent.students.altPhoneExt" ng-model-options=
                              "{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                              placeholder="9999" type="text">
                            </div>


                            <div class="has-error" ng-messages="editstudent.altPhoneExt.$error"
                            role="alert" style="color:maroon">
                              <div ng-message="required">
                                You did not enter a field
                              </div>


                              <div ng-message="minlength">
                                Your field is too short
                              </div>


                              <div ng-message="maxlength">
                                Your field is too long
                              </div>


                              <div ng-message="email">
                                Your email is missing @ and/or a period
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

<!--mlc -->
                      <div class="row">

                        <div class="col-md-9">
                          <div class="col-md-6">
                            <div ng-class="{'has-error': editstudent.Email.$invalid, 'has-success': !editstudent.Email.$invalid}" class="form-group">
                              <label for="inputEmail" class="control-label">Email </label>
                              <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Email.$dirty" ng-class="editstudent.Email.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                <input id="inputEmail" type="email" placeholder="Email Address" name="Email" ng-model="vmstudent.students.Email" ng-change="vmstudent.updateStudent()" maxLength="80" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                              </div>
                              <div style="color:maroon" role="alert" ng-messages="editstudent.Email.$error" class="has-error">
                                <div ng-message="required">You did not enter a field</div>
                                <div ng-message="minlength">Your field is too short</div>
                                <div ng-message="maxlength">Your field is too long</div>
                                <div ng-message="email">Your email is missing @ and/or a period</div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div ng-class="{'has-error': editstudent.Email2.$invalid, 'has-success': !editstudent.Email2.$invalid}" class="form-group">
                              <label for="inputEmail2" class="control-label">Email2 </label>
                              <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Email2.$dirty" ng-class="editstudent.Email2.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                <input id="inputEmail2" type="email" placeholder="Alternate Email" name="Email2" ng-model="vmstudent.students.Email2" ng-change="vmstudent.updateStudent()" maxLength="80" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                              </div>
                              <div style="color:maroon" role="alert" ng-messages="editstudent.Email2.$error" class="has-error">
                                <div ng-message="required">You did not enter a field</div>
                                <div ng-message="minlength">Your field is too short</div>
                                <div ng-message="maxlength">Your field is too long</div>
                                <div ng-message="email">Your email is missing @ and/or a period</div>
                              </div>
                            </div>
                          </div>
                          <!--   </div>
                      <div class="row"> -->
                          <div class="col-md-6">
                            <div ng-class="{'has-error': editstudent.Phone.$invalid, 'has-success': !editstudent.Phone.$invalid}" class="form-group">
                              <label for="inputPhone" class="control-label">Phone </label>
                              <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Phone.$dirty" ng-class="editstudent.Phone.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                <input id="inputPhone" type="text" placeholder="" name="Phone" ng-model="vmstudent.students.Phone" ng-change="vmstudent.updateStudent()" ui-mask="(999) 999-9999" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                              </div>
                              <div style="color:maroon" role="alert" ng-messages="editstudent.Phone.$error" class="has-error">
                                <div ng-message="required">You did not enter a field</div>
                                <div ng-message="minlength">Your field is too short</div>
                                <div ng-message="maxlength">Your field is too long</div>
                                <div ng-message="email">Your email is missing @ and/or a period</div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div ng-class="{'has-error': editstudent.AltPhone.$invalid, 'has-success': !editstudent.AltPhone.$invalid}" class="form-group">
                              <label for="inputAltPhone" class="control-label">AltPhone </label>
                              <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.AltPhone.$dirty" ng-class="editstudent.AltPhone.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                <input id="inputAltPhone" type="text" placeholder="" name="AltPhone" ng-model="vmstudent.students.AltPhone" ng-change="vmstudent.updateStudent()" ui-mask="(999) 999-9999" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                              </div>
                              <div style="color:maroon" role="alert" ng-messages="editstudent.AltPhone.$error" class="has-error">
                                <div ng-message="required">You did not enter a field</div>
                                <div ng-message="minlength">Your field is too short</div>
                                <div ng-message="maxlength">Your field is too long</div>
                                <div ng-message="email">Your email is missing @ and/or a period</div>
                              </div>
                            </div>
                          </div>
                          <!--  </div>
                      <div class="row"> -->
                          <div class="col-md-6">
                            <div ng-class="{'has-error': editstudent.phoneExt.$invalid, 'has-success': !editstudent.phoneExt.$invalid}" class="form-group">
                              <label for="inputphoneExt" class="control-label">PhoneExt </label>
                              <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.phoneExt.$dirty" ng-class="editstudent.phoneExt.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                <input id="inputphoneExt" type="text" placeholder="9999" name="phoneExt" ng-model="vmstudent.students.phoneExt" ng-change="vmstudent.updateStudent()" maxLength="5" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                              </div>
                              <div style="color:maroon" role="alert" ng-messages="editstudent.phoneExt.$error" class="has-error">
                                <div ng-message="required">You did not enter a field</div>
                                <div ng-message="minlength">Your field is too short</div>
                                <div ng-message="maxlength">Your field is too long</div>
                                <div ng-message="email">Your email is missing @ and/or a period</div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div ng-class="{'has-error': editstudent.altPhoneExt.$invalid, 'has-success': !editstudent.altPhoneExt.$invalid}" class="form-group">
                              <label for="inputaltPhoneExt" class="control-label">AltPhoneExt </label>
                              <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.altPhoneExt.$dirty" ng-class="editstudent.altPhoneExt.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                <input id="inputaltPhoneExt" type="text" placeholder="9999" name="altPhoneExt" ng-model="vmstudent.students.altPhoneExt" ng-change="vmstudent.updateStudent()" maxLength="5" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                              </div>
                              <div style="color:maroon" role="alert" ng-messages="editstudent.altPhoneExt.$error" class="has-error">
                                <div ng-message="required">You did not enter a field</div>
                                <div ng-message="minlength">Your field is too short</div>
                                <div ng-message="maxlength">Your field is too long</div>
                                <div ng-message="email">Your email is missing @ and/or a period</div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <label for="inputBirthday" class="control-label">Birthday </label>
                          <div ng-class="{'has-error': editstudent.Birthday.$invalid, 'has-success': !editstudent.Birthday.$invalid}" class="form-group">
                            <div class="col-md-11">
                              <div class="input-icon right">
                                <i ng-click="vmstudent.dateopen($event)" data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Birthday.$dirty" ng-class="editstudent.Birthday.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                <input id="inputBirthday" 
                                    type="text" 
                                    placeholder="mm/dd/yyyy" 
                                    name="Birthday" 
                                    ng-model="vmstudent.students.Birthday" 
                                    ng-change="vmstudent.updateStudent()" 
                                    is-open="vmstudent.status.opened" 
                                    uib-datepicker-popup="{{vmstudent.bdateformat}}" 
                                    ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                              </div>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.Birthday.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                            <div class="col-md-1">
                              <button type="button" class="btn btn-default" ng-click="vmstudent.dateopen($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.sex.$invalid, 'has-success': !editstudent.sex.$invalid}" class="form-group">
                            <label for="inputsex" class="control-label">Gender </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.sex.$dirty" ng-class="editstudent.sex.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputsex" type="text" name="sex" ng-model="vmstudent.students.sex" ng-change="vmstudent.updateStudent()" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="g in vmstudent.genders" ng-selected="{{g==vmstudent.students.sex}}" placeholder="Select" value="{{g}}">{{g}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.sex.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.Parent.$invalid, 'has-success': !editstudent.Parent.$invalid}" class="form-group">
                            <label for="inputParent" class="control-label">Parent </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Parent.$dirty" ng-class="editstudent.Parent.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputParent" type="text" placeholder="Parent Name" name="Parent" ng-model="vmstudent.students.Parent" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.Parent.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.EmergencyContact.$invalid, 'has-success': !editstudent.EmergencyContact.$invalid}" class="form-group">
                            <label for="inputEmergencyContact" class="control-label">Emergency Contact </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.EmergencyContact.$dirty" ng-class="editstudent.EmergencyContact.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputEmergencyContact" type="text" placeholder="Emergency Contact Name" name="EmergencyContact" ng-model="vmstudent.students.EmergencyContact" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="80" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.EmergencyContact.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.Notes.$invalid, 'has-success': !editstudent.Notes.$invalid}" class="form-group">
                            <label for="inputNotes" class="control-label">Notes </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Notes.$dirty" ng-class="editstudent.Notes.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <textarea id="inputNotes" type="text" placeholder="Enter notes" name="Notes" ng-model="vmstudent.students.Notes" ng-change="vmstudent.updateStudent()" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control"></textarea>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.Notes.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.medicalConcerns.$invalid, 'has-success': !editstudent.medicalConcerns.$invalid}" class="form-group">
                            <label for="inputmedicalConcerns" class="control-label">Medical Concerns </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.medicalConcerns.$dirty" ng-class="editstudent.medicalConcerns.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <textarea id="inputmedicalConcerns" type="text" placeholder="Enter Medical concerns" name="medicalConcerns" ng-model="vmstudent.students.medicalConcerns" ng-change="vmstudent.updateStudent()" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control"></textarea>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.medicalConcerns.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <h3 class="block-heading">Address Information</h3>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.Address.$invalid, 'has-success': !editstudent.Address.$invalid}" class="form-group">
                            <label for="inputAddress" class="control-label">Address </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Address.$dirty" ng-class="editstudent.Address.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputAddress" type="text" placeholder="999 Street Address" name="Address" ng-model="vmstudent.students.Address" ng-change="vmstudent.updateStudent()" minLength="5" maxLength="120" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.Address.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.City.$invalid, 'has-success': !editstudent.City.$invalid}" class="form-group">
                            <label for="inputCity" class="control-label">City </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.City.$dirty" ng-class="editstudent.City.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputCity" type="text" placeholder="City" name="City" ng-model="vmstudent.students.City" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.City.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.ZIP.$invalid, 'has-success': !editstudent.ZIP.$invalid}" class="form-group">
                            <label for="inputZIP" class="control-label">Zip/Postal Code </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.ZIP.$dirty" ng-class="editstudent.ZIP.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputZIP" type="text" name="ZIP" ng-model="vmstudent.students.ZIP" ng-change="vmstudent.updateStudent()" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="z in vmstudent.zipList.zips" ng-selected="{{z==vmstudent.students.ZIP}}" placeholder="Select" value="{{z.zip}}">{{z.zip}} - {{z.city}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.ZIP.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <h3 class="block-heading">Dojo Information</h3>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.ContactType.$invalid, 'has-success': !editstudent.ContactType.$invalid}" class="form-group">
                            <label for="inputContactType" class="control-label">Contact Type </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.ContactType.$dirty" ng-class="editstudent.ContactType.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputContactType" type="text" name="ContactType" ng-model="vmstudent.students.ContactType" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.ContactTypeList" ng-selected="{{iter.listkey==vmstudent.students.ContactType}}" placeholder="Select" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.ContactType.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.CurrentRank.$invalid, 'has-success': !editstudent.CurrentRank.$invalid}" class="form-group">
                            <label for="inputCurrentRank" class="control-label">Rank </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.CurrentRank.$dirty" ng-class="editstudent.CurrentRank.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputCurrentRank" type="text" name="CurrentRank" ng-model="vmstudent.students.CurrentRank" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="iter in vmstudent.RankList.rankList" ng-selected="{{iter.ranklist==vmstudent.students.CurrentRank}}" placeholder="Select" value="{{iter.ranklist}}">{{iter.ranklist}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.CurrentRank.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.CurrentReikiRank.$invalid, 'has-success': !editstudent.CurrentReikiRank.$invalid}" class="form-group">
                            <label for="inputCurrentReikiRank" class="control-label">Reiki Rank </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.CurrentReikiRank.$dirty" ng-class="editstudent.CurrentReikiRank.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputCurrentReikiRank" type="text" name="CurrentReikiRank" ng-model="vmstudent.students.CurrentReikiRank" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="iter in vmstudent.CurrentReikiRankList" ng-selected="{{iter==vmstudent.students.CurrentReikiRank}}" placeholder="Select" value="{{iter}}">{{iter}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.CurrentReikiRank.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.quickbooklink.$invalid, 'has-success': !editstudent.quickbooklink.$invalid}" class="form-group">
                            <label for="inputquickbooklink" class="control-label">Quickbook Link </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.quickbooklink.$dirty" ng-class="editstudent.quickbooklink.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputquickbooklink" type="text" placeholder="Quickbook" name="quickbooklink" ng-model="vmstudent.students.quickbooklink" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.quickbooklink.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.StudentSchool.$invalid, 'has-success': !editstudent.StudentSchool.$invalid}" class="form-group">
                            <label for="inputStudentSchool" class="control-label">School </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.StudentSchool.$dirty" ng-class="editstudent.StudentSchool.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputStudentSchool" type="text" name="StudentSchool" ng-model="vmstudent.students.StudentSchool" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.StudentSchoolList" ng-selected="{{iter.listkey==vmstudent.students.StudentSchool}}" placeholder="Select" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.StudentSchool.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.GuiSize.$invalid, 'has-success': !editstudent.GuiSize.$invalid}" class="form-group">
                            <label for="inputGuiSize" class="control-label">Gi Size </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.GuiSize.$dirty" ng-class="editstudent.GuiSize.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputGuiSize" type="text" name="GuiSize" ng-model="vmstudent.students.GuiSize" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.GuiSizeList" ng-selected="{{iter.listkey==vmstudent.students.GuiSize}}" placeholder="Size" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.GuiSize.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.ShirtSize.$invalid, 'has-success': !editstudent.ShirtSize.$invalid}" class="form-group">
                            <label for="inputShirtSize" class="control-label">Shirt Size </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.ShirtSize.$dirty" ng-class="editstudent.ShirtSize.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputShirtSize" type="text" name="ShirtSize" ng-model="vmstudent.students.ShirtSize" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.ShirtSizeList" ng-selected="{{iter.listkey==vmstudent.students.ShirtSize}}" placeholder="Size" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.ShirtSize.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.BeltSize.$invalid, 'has-success': !editstudent.BeltSize.$invalid}" class="form-group">
                            <label for="inputBeltSize" class="control-label">Belt Size </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.BeltSize.$dirty" ng-class="editstudent.BeltSize.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputBeltSize" type="text" name="BeltSize" ng-model="vmstudent.students.BeltSize" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.BeltSizeList" ng-selected="{{iter.listkey==vmstudent.students.BeltSize}}" placeholder="Size" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.BeltSize.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.InstructorPaymentFree.$invalid, 'has-success': !editstudent.InstructorPaymentFree.$invalid}" class="form-group">
                            <label for="inputInstructorPaymentFree" class="control-label">Instr. Payment Free </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.InstructorPaymentFree.$dirty" ng-class="editstudent.InstructorPaymentFree.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <toggle-switch on-label="free" off-label="charge" id="inputInstructorPaymentFree" type="checkbox" name="InstructorPaymentFree" ng-model="vmstudent.students.InstructorPaymentFree" ng-change="vmstudent.updateStudent()" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="switch-primary"></toggle-switch>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.InstructorPaymentFree.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.instructorTitle.$invalid, 'has-success': !editstudent.instructorTitle.$invalid}" class="form-group">
                            <label for="inputinstructorTitle" class="control-label">Title </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.instructorTitle.$dirty" ng-class="editstudent.instructorTitle.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputinstructorTitle" type="text" name="instructorTitle" ng-model="vmstudent.students.instructorTitle" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.instructorTitleList" ng-selected="{{iter.listkey==vmstudent.students.instructorTitle}}" placeholder="Select" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.instructorTitle.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </uib-tab>
      <uib-tab 
            index="2"
            id="tab-studentclass" 
            heading="Class" 
            select="vmstudent.setActiveTab(2,'studentclassselect');classtabShown = !classtabShown" deselect="classtabShown = !classtabShown" >
        <div class="row" ng-controller="StudentClassController as vmclass">
          <div class="col-lg-12">
<!--                        <pre>{{vmclass.xList.xList | json}}</pre>
                        <pre>{{vmclass.xlistnew.studentclasslist | json}}</pre>
-->
            <div class="panel panel-blue">
              <div class="panel-heading">Programs</div>
              <div class="panel-body pan">
                  <div>
                    <form action="" novalidate name="editstudentclass" class="form-horizontal">
                      <div class="form-body pal">
                        <h3 class="block-heading">Class Information</h3>
                        <div class="row">
                          <div class="col-md-4">
                            <div class="col-md-12">
                              <div ng-class="{'has-error': editstudentclass.sc_Class.$invalid, 'has-success': !editstudentclass.sc_Class.$invalid}" class="form-group">
                                <label for="inputsc_Class" class="control-label">Student Class</label>
                                <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudentclass.sc_Class.$dirty" ng-class="editstudentclass.sc_Class.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                  <input id="inputsc_Class" type="text" placeholder="Student Class" name="sc_Class" ng-model="vmclass.studentclass.class" ng-change="vmclass.updateStudentClass()" minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                </div>
                                <div style="color:maroon" role="alert" ng-messages="editstudentclass.sc_Class.$error" class="has-error">
                                  <div ng-message="required">You did not enter a field</div>
                                  <div ng-message="minlength">Your field is too short</div>
                                  <div ng-message="maxlength">Your field is too long</div>
                                  <div ng-message="email">Your email is missing @ and/or a period</div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-12">
                              <div ng-class="{'has-error': editstudentclass.pgmclass.$invalid, 'has-success': !editstudentclass.pgmclass.$invalid}" class="form-group">
                                <label for="inputsc_pgmclass" class="control-label">Student Program</label>
                                <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudentclass.pgmclass.$dirty" ng-class="editstudentclass.pgmclass.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                  <input id="inputsc_pgmclass" type="text" placeholder="Student Program" name="pgmclass" ng-model="vmclass.studentclass.pgmclass" ng-change="vmclass.updateStudentClass()" minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                </div>
                                <div style="color:maroon" role="alert" ng-messages="editstudentclass.pgmclass.$error" class="has-error">
                                  <div ng-message="required">You did not enter a field</div>
                                  <div ng-message="minlength">Your field is too short</div>
                                  <div ng-message="maxlength">Your field is too long</div>
                                  <div ng-message="email">Your email is missing @ and/or a period</div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-12">
                              <div ng-class="{'has-error': editstudentclass.studentclassstatus.$invalid, 'has-success': !editstudentclass.studentclassstatus.$invalid}" class="form-group">
                                <label for="inputsc_Classstatus" class="control-label">Student Status</label>
                                <div class="input-icon right">
                                  <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudentclass.studentclassstatus.$dirty" ng-class="editstudentclass.studentclassstatus.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                  <select id="inputsc_Classstatus" type="text" name="studentclassstatus" ng-model="vmclass.studentclass.studentclassstatus" ng-change="vmclass.updateStudentClass()" minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                    <option ng-repeat="iter in vmclass.classstatuses.studentclassstatuses" ng-selected="{{iter.status==vmclass.studentclass.studentclassstatus}}" placeholder="Select" value="{{iter.status}}">{{iter.status}}</option>
                                  </select>
                                </div>
                                <div style="color:maroon" role="alert" ng-messages="editstudentclass.studentclassstatus.$error" class="has-error">
                                  <div ng-message="required">You did not enter a field</div>
                                  <div ng-message="minlength">Your field is too short</div>
                                  <div ng-message="maxlength">Your field is too long</div>
                                  <div ng-message="email">Your email is missing @ and/or a period</div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-2">

                <div class="row row-icons">
                <div ng-controller="ModalSetStudentClassController as vmsetclassmodal">
                    <script id="myClasssearch.html" type="text/ng-template">
                        <div class="modal-header">
                          <h3 class="modal-title">Select Student Class</h3>
                        </div>
                        <div class="modal-body" >
                        <div class="col-md-12">
                          <div>{{vmsearch.vmclass.concat}}</div>
                          <div class="row">
                    <div opt-kind="" ok-key="filter" class="btn-group col-md-12 filters-button-group">
                      <button ok-sel="*" ng-click="vmsearch.vmclass.clearSelect()" class="btn btn-default">Show All</button>
                    </div>
                          </div>
                          <div class="row">
                    <div opt-kind="" ok-key="filter" class="btn-group col-md-12 filters-button-groupcat">
                    <div class="col-md-1">
                      <button ng-click="vmsearch.vmclass.clearCatSelect()" class="btn btn-sm btn-green active">Show All</button>
                      </div>
                      <div ng-repeat="category in vmsearch.vmclass.classcategories" class="">
                          <div class="col-md-1">
                          <button ok-sel="{{vmsearch.vmclass.concat}}" 
                            ng-click="vmsearch.vmclass.catset(category.classcat)" 
                            ng-model="classcategories" 
                            class="btn btn-sm btn-green">{{category.classcat}}</button>
                        </div></div>
                    </div>
                          </div>
                          <div class="row">
                    <div opt-kind="" ok-key="filter" class="btn-group col-md-12 filters-button-groupage">
                    <div class="col-md-1">
                      <button ng-click="vmsearch.vmclass.clearAgeSelect()" class="btn btn-sm btn-orange active">Show All</button>
                      </div>
                      <div ng-repeat="age in vmsearch.vmclass.agecategories" class="">
                          <div class="col-md-1">
                          <button ok-sel="{{vmsearch.vmclass.concat}}" 
                            ng-click="vmsearch.vmclass.ageset(age.agecat)" 
                            ng-model="agecategories" 
                            class="btn btn-sm btn-orange">{{age.agecat}}</button>
                        </div></div>
                    </div>
                          </div>
                          <div class="row">
                    <div opt-kind="" ok-key="filter" class="btn-group col-md-12 filters-button-grouppgm">
                    <div class="col-md-1">
                      <button ng-click="vmsearch.vmclass.clearPgmSelect()" class="btn btn-sm btn-violet active">Show All</button>
                      </div>
                      <div ng-repeat="pgm in vmsearch.vmclass.pgmcategories" class="">
                          <div class="col-md-1">
                          <button ok-sel="{{vmsearch.vmclass.concat}}" 
                          ng-click="vmsearch.vmclass.pgmset(pgm.pgmcat)" 
                          ng-model="pgmcategories" 
                          class="btn btn-sm btn-violet">{{pgm.pgmcat}}</button>
                        </div></div>
                    </div>
                          </div>
                          <div class="row">
                    <div id="isotopeContainer" isotope-container ng-cloak class="mix-grid ng-cloak">
                    <pre>{{vmsearch.vmclass}}</pre>
                      <div ng-repeat="x in vmsearch.vmclass.xlistnew.studentclasslist track by $index" isotope-item="" class="col-md-3 mix {{x.classcat[0][0]}} {{x.agecat[0][0]}} {{x.pgmcat[0][0]}}">
                        <div class="hover-effect">
                          <div class="img">
                            <img ng-src="images/classes/{{x.pictureurl}}" alt="" class="img-responsive" />
                          </div>
                          <div class="info">
                            <h4>{{x.class}} - {{x.pgm}}</h4>
                            <div>
                              <button type="button" ng-click="vmsearch.closemodal(vmsearch.vmclass.studentclass.contactID,x.classid,x.pgmid);" class="btn btn-default btn-sm mix-link">Select {{x.class}} - {{x.pgm}}</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                          </div>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button class="btn btn-primary" type="button" ng-click="vmsearch.closemodal()">Cancel</button>
                        </div>
                    </script>

<!--                    <div class="col-md-8">
                      <input class="form-control" id="classname" name="classname" ng-hide=
                      "false" ng-model="vmsetclassmodal.classname" placeholder="Class Name" type=
                      "text"> 
                      <button class="btn btn-default" ng-click=
                      "vmstudent.setStudentClassModal(vmsetclassmodal.classname); vmsetclassmodal.classname=''"
                      ng-show="vmsetclassmodal.classname" type="button">Save Class</button>

                    </div>
-->

                    <div class="col-md-4">
                       <a href ng-click="vmsetclassmodal.opensearch()"><i class=
                      "glyphicon glyphicon-search"></i></a>
                    </div>
                  </div>
                </div>
                  
                          </div>
                          <div class="col-md-6">
                            <div class="col-md-8">
                              <div class="gallery-pages">
                                <div class="mix-grid">
                                  <div class="mix">
                                    <div class="hover-effect">
                                      <div class="img" ng-if="vmclass.classpictureurl.pictureurl[0].pictureurl">
                                        <img ng-src="images/classes/{{vmclass.classpictureurl.pictureurl[0].pictureurl}}" alt="" class="img-responsive" />
                                      </div>
                                      <div class="info">
                                        <h3>{{vmclass.studentclass.class}} - {{vmclass.studentclass.pgmclass}}</h3>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
               <hr/>  
              </div>
            </div>
          </div>
        </div>

      </uib-tab>
      <uib-tab 
            index="3"
             id="tab-studentpayment" 
             heading="Payment"
             select="vmstudent.setActiveTab(3,'studentpaymentselect'); paymenttabShown = !paymenttabShown" deselect="paymenttabShown = !paymenttabShown"
             >
        <div class="row" ng-controller="StudentPaymentController as vmpayment">
          <div class="col-lg-12">
            <div class="panel panel-blue">
              <div class="panel-heading">Payment</div>
              <div class="panel-body pan">
                  <div class="col-md-6">
                    <form action="" novalidate name="editstudentpayment" class="form-horizontal">
                      <div class="form-body pal">
                        <h3 class="block-heading">Payment Information</h3>
                        <div class="row">
                          <div class="col-md-6">
                            <div class="col-md-12">
                              <div ng-class="{'has-error': editstudentpayment.sc_ClassPayName.$invalid, 'has-success': !editstudentpayment.sc_ClassPayName.$invalid}" class="form-group">
                                <label for="inputsc_ClassPayName" class="control-label">Student Payment</label>
                                <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudentpayment.sc_ClassPayName.$dirty" ng-class="editstudentpayment.sc_ClassPayName.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                  <input id="inputsc_ClassPayName" type="text" placeholder="Student Payment" name="sc_ClassPayName" ng-model="vmpayment.StudentPayment.classPayName" ng-change="vmpayment.updateStudentPayment2()" minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                </div>
                                <div style="color:maroon" role="alert" ng-messages="editstudentpayment.sc_ClassPayName.$error" class="has-error">
                                  <div ng-message="required">You did not enter a field</div>
                                  <div ng-message="minlength">Your field is too short</div>
                                  <div ng-message="maxlength">Your field is too long</div>
                                  <div ng-message="email">Your email is missing @ and/or a period</div>
                                </div>
                              </div> 
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-md-6">
                            <ui-select tagging tagging-label="('new')" ng-model="vmpayment.StudentPayment.classpaynametmp" theme="select2" ng-disabled="disabled" style="width: 300px;" title="Choose a payer">
                              <ui-select-match allow-clear placeholder="Select or add the payer for the student...">{{$select.selected.classpaynametmp}}</ui-select-match>
                              <ui-select-choices repeat="paylist.classpaynametmp as paylist in vmpayment.ClassPayList.studentclasspaylist | filter: $select.search ">
                                <small>
                                    <p>Name: {{paylist.firstname}} {{paylist.lastname}} </p>
                                    Payer: <span ng-bind-html="paylist.classpaynametmp | highlight: $select.search"></span>
                                    <hr style="margin-top: 0.2em; margin-bottom: 0.2em; border-top-color: #ef6c00"/>
                                </small>
                              </ui-select-choices>
                            </ui-select>
                          </div>
                          <div class="col-md-6">
                            <button type="button" ng-click="vmpayment.updateStudentPayment()" class="btn btn-default btn-sm mix-link">Set as {{vmpayment.StudentPayment.classpaynametmp}}</button>
                          </div>
                        </div>

                      </div>
                    </form>

                  </div>
                  <div class="col-md-6 form-body pal">
                  <h3 class="block-heading">Family Members</h3>
                      <div ng-repeat="family in vmpayment.FamilyList.FamilyList">
<!--                  <pre>{{family | json}}</pre>  -->
                          <div class="col-md-3">Name: {{ family.firstname }} {{family.lastname}}</div>
                          <div class="col-md-9">
                              <div class="thumbnail" ng-show="family.pictureurl"> 
                              <img height="200px" ng-src="{{ './images/students/' + family.pictureurl || '' }}">
                              </div>
                          </div>
                      </div>
                  </div>
<!--                  <pre>{{vmpayment.FamilyList | json}}</pre>  -->
                  
              </div>
            </div>
          </div>
        </div>
      </uib-tab>
      <uib-tab 
            index="4"
            id="tab-studenthist" 
            heading="Student History"
             select="vmstudent.setActiveTab(4,'studenthistselect'); histtabShown = !histtabShown" deselect="histtabShown = !histtabShown"
            >
        <div class="row" ng-controller="StudentHistoryController as vmhistory">
          <div class="col-lg-12">
            <div class="panel panel-blue">
              <div class="panel-heading">History</div>
              <div class="panel-body pan">
                <div ui-grid="vmhistory.gridOptions" 
                    ui-grid-pagination ui-grid-cellNav ui-grid-auto-resize class="mygrid" ng-if="histtabShown">
                </div>
              </div>
            </div>
          </div>
        </div>
      </uib-tab>
    </uib-tabset>


<!--mlc-->
  </div>
</div>
