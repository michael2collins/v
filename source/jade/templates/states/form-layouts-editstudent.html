<!DOCTYPE html>
<div id="form-layouts-editstudent" class="row" ng-controller="FormLayoutsControllerEditStudent as vmstudent">

  <div class="col-lg-12">
    <uib-tabset type="pills" active="vmstudent.active">
      <uib-tab index="1" id="tab-studentinfo" heading="Student Information" select="vmstudent.setActiveTab(1,'studentinfoselect');infotabShown = !infotabShown" deselect="infotabShown = !infotabShown">
        <div class="row">
          <div>
            <div class="col-lg-12">
              <div class="panel panel-blue">
                <div class="panel-heading">Student</div>

                <div class="panel-body pan">
                  <form action="" novalidate name="editstudent" class="form-horizontal">
                    <div class="form-body pal">
                      <h3 class="block-heading">Student Information</h3>
                      <div id="studentid" ng-model="vmstudent.students.ID">{{vmstudent.students.ID}}</div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.FirstName.$invalid, 'has-success': !editstudent.FirstName.$invalid}" class="form-group">
                            <label for="inputFirstName" class="control-label">First Name </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.FirstName.$dirty" ng-class="editstudent.FirstName.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputFirstName" type="text" placeholder="First Name" name="FirstName" ng-model="vmstudent.students.FirstName" ng-change="vmstudent.updateStudent()" required minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.FirstName.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.LastName.$invalid, 'has-success': !editstudent.LastName.$invalid}" class="form-group">
                            <label for="inputLastName" class="control-label">LastName </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.LastName.$dirty" ng-class="editstudent.LastName.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputLastName" type="text" placeholder="Last Name" name="LastName" ng-model="vmstudent.students.LastName" ng-change="vmstudent.updateStudent()" required minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.LastName.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-3">
                          <div class="row">
                            <div class="col-md-12">
                              <span class="thumbnail" ng-switch on="vmstudent.students.pictureurldecache">
                                   <img ng-switch-when="missing" ng-src='../images/students/missingstudentpicture.png'/>
                                   <img ng-switch-default   ng-src='../images/students/{{vmstudent.students.pictureurldecache}}'/>
                                </span>
                            </div>
                          </div>

                          <div class="row row-icons">
                            <div ng-controller="ModalPicUploadController as vmpicmodal">
                              <div class="row">
                                <div id="photowrapper">
                                  <span>
                                    <div>
                                      <div id="my_photo_booth">
                                          <div id="my_camera" style="width:320px; "
                                      ng-style="(vmpicmodal.checkCameraIsOn() === true ) && {'height':'240px'}  || (vmpickmodal.checkCameraIsOn() === false ) && {'height':'0px'}">
                                          </div>
                                      
                                              <form>
                                      			<div id="pre_take_buttons" >
                                      				<input type=button value="Take Snapshot" ng-click="vmpicmodal.preview_snapshot()">
                                      				<input type=button value="Camera On" ng-click="vmpicmodal.camera_on()">
                                      			</div>
                                      			<div id="post_take_buttons" ng-show="vmpicmodal.post_take_buttons">
                                      				<input type=button value="&lt; Take Another" ng-click="vmpicmodal.cancel_preview()">
                                      				<input type=button value="Save Photo &gt;" ng-click="vmpicmodal.save_photo(vmstudent.students.FirstName + '.' 
                                      				+ vmstudent.students.LastName + '.'
                                      				+ vmstudent.students.ID + '.jpg',vmstudent.students
                                      				); vmstudent.setStudentPIC(
                                              vmstudent.students.FirstName + '.' 
                                      				+ vmstudent.students.LastName + '.'
                                      				+ vmstudent.students.ID + '.jpg'				)" style="font-weight:bold;">
                                      				<input type=button value="Camera Off" ng-click="vmpicmodal.camera_off()">
                                      			</div>
                                      		</form>
                                      
                                      </div>
                                      <div id="results" style="display:none">
                                      		<!-- Your captured image will appear here... -->
                                      </div>
	
                                    </div>
                                  </span>
                                </div>
                                <!--end photowrapper                       -->
                              </div>

                              <script id="myPickupload.html" type="text/ng-template">
                                <div class="modal-header">
                                  <h3 class="modal-title">Select Student Picture</h3>
                                </div>
                                <div class="modal-body">
                                  <div class="row" ng-controller="StudentUploadController as vmstupicupload" nv-file-drop="" uploader="vmstupicupload.uploader">
                                    <div class="col-lg-12">
                                      <div>

                                        <div class="col-md-3">
                                          <input type="file" nv-file-select="" uploader="vmstupicupload.uploader" single />
                                          <br/>

                                        </div>

                                        <div class="col-md-9" style="margin-bottom: 40px">
                                          <!--                               <pre>{{vmpicselect | json}}</pre>
                            -->
                                          <table class="table">
                                            <thead>
                                              <tr>
                                                <th width="20%">Name</th>
                                                <th ng-show="vmstupicupload.uploader.isHTML5">Size</th>
                                                <th ng-show="vmstupicupload.uploader.isHTML5">Progress</th>
                                                <th>Status</th>
                                                <th>Actions</th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                              <tr ng-repeat="item in vmstupicupload.uploader.queue">
                                                <td>
                                                  <strong>{{ item.file.name }}</strong>
                                                  <!-- Image preview -->
                                                  <!--auto height-->
                                                  <!--<div ng-thumb="{ file: item.file, width: 100 }"></div>-->
                                                  <!--auto width-->
                                                  <div ng-show="vmstupicupload.uploader.isHTML5" ng-thumbupload="{ file: item._file, height: 100 }"></div>
                                                  <!--fixed width and height -->
                                                  <!--<div ng-thumb="{ file: item.file, width: 100, height: 100 }"></div>-->
                                                </td>
                                                <td ng-show="vmstupicupload.uploader.isHTML5" nowrap>{{ item.file.size/1024/1024|number:2 }} MB</td>
                                                <td ng-show="vmstupicupload.uploader.isHTML5">
                                                  <div class="progress" style="margin-bottom: 0;">
                                                    <div class="progress-bar" role="progressbar" ng-style="{ 'width': item.progress + '%' }"></div>
                                                  </div>
                                                </td>
                                                <td class="text-center">
                                                  <span ng-show="item.isSuccess"><i class="glyphicon glyphicon-ok"></i></span>
                                                  <span ng-show="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                                  <span ng-show="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                                                </td>
                                                <td nowrap>
                                                  <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                                                    <span class="glyphicon glyphicon-upload"></span> Upload
                                                  </button>
                                                  <button type="button" class="btn btn-warning btn-xs" ng-click="item.cancel()" ng-disabled="!item.isUploading">
                                                    <span class="glyphicon glyphicon-ban-circle"></span> Cancel
                                                  </button>
                                                  <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
                                                    <span class="glyphicon glyphicon-trash"></span> Remove
                                                  </button>
                                                </td>
                                              </tr>
                                            </tbody>
                                          </table>

                                        </div>



                                      </div>
                                    </div>
                                  </div>


                                </div>
                                <div class="modal-footer">
                                  <button class="btn btn-primary" type="button" ng-click="vmpicselect.ok()">OK</button>
                                  <button class="btn btn-warning" type="button" ng-click="vmpicselect.cancel()">Cancel</button>
                                </div>
                              </script>
                              <script id="myPicksearch.html" type="text/ng-template">
                                <div class="modal-header">
                                  <h3 class="modal-title">Select Student Picture</h3>
                                </div>
                                <div class="modal-body">
                                  <div ui-grid="vmpicsearch.gridOptions" ui-grid-pagination ui-grid-cellNav ui-grid-selection ui-grid-auto-resize class="mygrid" ng-style="{height: (3*128)+132+'px'}"></div>

                                </div>
                                <div class="modal-footer">
                                  <button class="btn btn-primary" type="button" ng-click="vmpicsearch.ok()">OK</button>
                                  <button class="btn btn-warning" type="button" ng-click="vmpicsearch.cancel()">Cancel</button>
                                </div>
                              </script>

                              <div class="col-md-8">
                                <!--
                                <div ng-hide="vmstudent.students.pictureurl" class="form-group">
                                  <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" class="glyphicon tooltips"></i>
                                    <input id="inputpictureurl" type="text" placeholder="File Name" name="pictureurl" ng-model="vmstudent.students.pictureurl" ng-value="vmpicmodal.picfile" minLength="2" maxLength="30" class="form-control">
                                  </div>
                                  <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" class="glyphicon tooltips"></i>
                                  </div>
                                </div> -->
                                <input class="form-control" id="picfile" name="picfile" ng-show="false" ng-model="vmpicmodal.picfile" placeholder="File Name" type="text">
                                <button class="btn btn-default" ng-click="vmstudent.setStudentPIC(vmpicmodal.picfile); vmpicmodal.picfile=''" ng-show="vmpicmodal.picfile" type="button">Save Picture</button>

                                <div class="thumbnail" ng-show="vmpicmodal.picfile"><img ng-src="./images/students/{{vmstudent.students.oldpicfile}}.bkup" />
                                </div>
                              </div>


                              <div class="col-md-4">
                                <a href ng-click="vmpicmodal.openpick()"><i class=
                              "glyphicon glyphicon-upload"></i></a>
                                <!--    <button type="button" class="btn btn-default" ng-click="vmpickmodal.open()">Open me!</button> -->

                                <!--    <div ng-show="vmpicmodal.picfile">Selection from a modal: {{ vmpicmodal.picfile }}</div> -->
                                <a href ng-click="vmpicmodal.opensearch()"><i class=
                              "glyphicon glyphicon-search"></i></a>
                                <a href ng-click="vmpicmodal.openCamera()"><i class=
                              "glyphicon glyphicon-camera"></i></a>


                              </div>
                            </div>
                          </div>
                        </div>


                        <div class="col-md-9">
                          <div class="col-md-6">
                            <div class="form-group" ng-class="{'has-error': editstudent.Email.$invalid, 'has-success': !editstudent.Email.$invalid}">
                              <label class="control-label" for="inputEmail">Email</label>

                              <div class="input-icon right">
                                <i class="glyphicon tooltips" data-hover="tooltip" data-original-title="Correct" ng-class="editstudent.Email.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'" ng-show="editstudent.Email.$dirty"></i> <input class="form-control"
                                  id="inputEmail" maxlength="120" name="Email" ng-change="vmstudent.updateStudent()" ng-model="vmstudent.students.Email" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" placeholder="Email Address"
                                  type="email">
                              </div>


                              <div class="has-error" ng-messages="editstudent.Email.$error" role="alert" style="color:maroon">
                                <div ng-message="required">
                                  You did not enter a field
                                </div>


                                <div ng-message="minlength">
                                  Your field is too short
                                </div>


                                <div ng-message="maxlength">
                                  Your field is too long
                                </div>


                                <div ng-message="email">
                                  Your email is missing @ and/or a period
                                </div>
                              </div>
                            </div>
                          </div>


                          <div class="col-md-6">
                            <div class="form-group" ng-class="{'has-error': editstudent.Email2.$invalid, 'has-success': !editstudent.Email2.$invalid}">
                              <label class="control-label" for="inputEmail2">Email2</label>

                              <div class="input-icon right">
                                <i class="glyphicon tooltips" data-hover="tooltip" data-original-title="Correct" ng-class="editstudent.Email2.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'" ng-show="editstudent.Email2.$dirty"></i> <input class="form-control"
                                  id="inputEmail2" maxlength="120" name="Email2" ng-change="vmstudent.updateStudent()" ng-model="vmstudent.students.Email2" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" placeholder="Alternate Email"
                                  type="email">
                              </div>


                              <div class="has-error" ng-messages="editstudent.Email2.$error" role="alert" style="color:maroon">
                                <div ng-message="required">
                                  You did not enter a field
                                </div>


                                <div ng-message="minlength">
                                  Your field is too short
                                </div>


                                <div ng-message="maxlength">
                                  Your field is too long
                                </div>


                                <div ng-message="email">
                                  Your email is missing @ and/or a period
                                </div>
                              </div>
                            </div>
                          </div>
                          <!--   </div>
                      <div class="row"> -->


                          <div class="col-md-6">
                            <div class="form-group" ng-class="{'has-error': editstudent.Phone.$invalid, 'has-success': !editstudent.Phone.$invalid}">
                              <label class="control-label" for="inputPhone">Phone</label>

                              <div class="input-icon right">
                                <i class="glyphicon tooltips" data-hover="tooltip" data-original-title="Correct" ng-class="editstudent.Phone.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'" ng-show="editstudent.Phone.$dirty"></i> <input class="form-control"
                                  id="inputPhone" name="Phone" ng-change="vmstudent.updateStudent()" ng-model="vmstudent.students.Phone" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" placeholder="" type="text"
                                  required ui-mask="(999) 999-9999">
                              </div>


                              <div class="has-error" ng-messages="editstudent.Phone.$error" role="alert" style="color:maroon">
                                <div ng-message="required">
                                  You did not enter a field
                                </div>


                                <div ng-message="minlength">
                                  Your field is too short
                                </div>


                                <div ng-message="maxlength">
                                  Your field is too long
                                </div>


                                <div ng-message="email">
                                  Your email is missing @ and/or a period
                                </div>
                              </div>
                            </div>
                          </div>


                          <div class="col-md-6">
                            <div class="form-group" ng-class="{'has-error': editstudent.AltPhone.$invalid, 'has-success': !editstudent.AltPhone.$invalid}">
                              <label class="control-label" for="inputAltPhone">AltPhone</label>

                              <div class="input-icon right">
                                <i class="glyphicon tooltips" data-hover="tooltip" data-original-title="Correct" ng-class="editstudent.AltPhone.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'" ng-show="editstudent.AltPhone.$dirty"></i> <input class="form-control"
                                  id="inputAltPhone" name="AltPhone" ng-change="vmstudent.updateStudent()" ng-model="vmstudent.students.AltPhone" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" placeholder="" type="text"
                                  ui-mask="(999) 999-9999">
                              </div>


                              <div class="has-error" ng-messages="editstudent.AltPhone.$error" role="alert" style="color:maroon">
                                <div ng-message="required">
                                  You did not enter a field
                                </div>


                                <div ng-message="minlength">
                                  Your field is too short
                                </div>


                                <div ng-message="maxlength">
                                  Your field is too long
                                </div>


                                <div ng-message="email">
                                  Your email is missing @ and/or a period
                                </div>
                              </div>
                            </div>
                          </div>
                          <!--  </div>
                      <div class="row"> -->


                          <div class="col-md-6">
                            <div class="form-group" ng-class="{'has-error': editstudent.phoneExt.$invalid, 'has-success': !editstudent.phoneExt.$invalid}">
                              <label class="control-label" for="inputphoneExt">PhoneExt</label>

                              <div class="input-icon right">
                                <i class="glyphicon tooltips" data-hover="tooltip" data-original-title="Correct" ng-class="editstudent.phoneExt.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'" ng-show="editstudent.phoneExt.$dirty"></i> <input class="form-control"
                                  id="inputphoneExt" maxlength="5" name="phoneExt" ng-change="vmstudent.updateStudent()" ng-model="vmstudent.students.phoneExt" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" placeholder="9999"
                                  type="text">
                              </div>


                              <div class="has-error" ng-messages="editstudent.phoneExt.$error" role="alert" style="color:maroon">
                                <div ng-message="required">
                                  You did not enter a field
                                </div>


                                <div ng-message="minlength">
                                  Your field is too short
                                </div>


                                <div ng-message="maxlength">
                                  Your field is too long
                                </div>


                                <div ng-message="email">
                                  Your email is missing @ and/or a period
                                </div>
                              </div>
                            </div>
                          </div>


                          <div class="col-md-6">
                            <div class="form-group" ng-class="{'has-error': editstudent.altPhoneExt.$invalid, 'has-success': !editstudent.altPhoneExt.$invalid}">
                              <label class="control-label" for="inputaltPhoneExt">AltPhoneExt</label>

                              <div class="input-icon right">
                                <i class="glyphicon tooltips" data-hover="tooltip" data-original-title="Correct" ng-class="editstudent.altPhoneExt.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'" ng-show="editstudent.altPhoneExt.$dirty"></i> <input class="form-control"
                                  id="inputaltPhoneExt" maxlength="5" name="altPhoneExt" ng-change="vmstudent.updateStudent()" ng-model="vmstudent.students.altPhoneExt" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                  placeholder="9999" type="text">
                              </div>


                              <div class="has-error" ng-messages="editstudent.altPhoneExt.$error" role="alert" style="color:maroon">
                                <div ng-message="required">
                                  You did not enter a field
                                </div>


                                <div ng-message="minlength">
                                  Your field is too short
                                </div>


                                <div ng-message="maxlength">
                                  Your field is too long
                                </div>


                                <div ng-message="email">
                                  Your email is missing @ and/or a period
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!--mlc -->
                        <div class="col-md-3"></div>
                        <div class="col-md-9">
                          <div class="row">
                            <div class="col-md-6">
                              <label for="inputBirthday" class="control-label">Birthday </label>
                              <div ng-class="{'has-error': editstudent.Birthday.$invalid, 'has-success': !editstudent.Birthday.$invalid}" class="form-group">
                                <div class="col-md-11" style="padding-right: 0px;">
                                  <div class="input-icon right">
                                    <i ng-click="vmstudent.dateopen($event)" data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Birthday.$dirty" ng-class="editstudent.Birthday.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                    <input id="inputBirthday" type="text" placeholder="mm/dd/yyyy" name="Birthday" required ng-model="vmstudent.students.Birthday" ng-change="vmstudent.updateStudent()" is-open="vmstudent.status.opened" uib-datepicker-popup="{{vmstudent.bdateformat}}" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                      class="form-control">
                                  </div>
                                </div>
                                <div class="col-md-1" style="padding-right: 0px; padding-left: 0px;">
                                  <button type="button" class="btn btn-default" ng-click="vmstudent.dateopen($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                </div>
                                <div style="color:maroon" role="alert" ng-messages="editstudent.Birthday.$error" class="has-error">
                                  <div ng-message="required">You did not enter a field</div>
                                  <div ng-message="minlength">Your field is too short</div>
                                  <div ng-message="maxlength">Your field is too long</div>
                                  <div ng-message="email">Your email is missing @ and/or a period</div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div ng-class="{'has-error': editstudent.sex.$invalid, 'has-success': !editstudent.sex.$invalid}" class="form-group">
                                <label for="inputsex" class="control-label">Gender </label>
                                <div class="input-icon right">
                                  <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.sex.$dirty" ng-class="editstudent.sex.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                  <select id="inputsex" type="text" name="sex" ng-model="vmstudent.students.sex" ng-change="vmstudent.updateStudent()" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="g in vmstudent.genders" ng-selected="{{g==vmstudent.students.sex}}" placeholder="Select" value="{{g}}">{{g}}</option>
                              </select>
                                </div>
                                <div style="color:maroon" role="alert" ng-messages="editstudent.sex.$error" class="has-error">
                                  <div ng-message="required">You did not enter a field</div>
                                  <div ng-message="minlength">Your field is too short</div>
                                  <div ng-message="maxlength">Your field is too long</div>
                                  <div ng-message="email">Your email is missing @ and/or a period</div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-6">
                              <div ng-class="{'has-error': editstudent.Parent.$invalid, 'has-success': !editstudent.Parent.$invalid}" class="form-group">
                                <label for="inputParent" class="control-label">Parent </label>
                                <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Parent.$dirty" ng-class="editstudent.Parent.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                  <input id="inputParent" type="text" placeholder="Parent Name" name="Parent" ng-model="vmstudent.students.Parent" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                    class="form-control">
                                </div>
                                <div style="color:maroon" role="alert" ng-messages="editstudent.Parent.$error" class="has-error">
                                  <div ng-message="required">You did not enter a field</div>
                                  <div ng-message="minlength">Your field is too short</div>
                                  <div ng-message="maxlength">Your field is too long</div>
                                  <div ng-message="email">Your email is missing @ and/or a period</div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div ng-class="{'has-error': editstudent.EmergencyContact.$invalid, 'has-success': !editstudent.EmergencyContact.$invalid}" class="form-group">
                                <label for="inputEmergencyContact" class="control-label">Emergency Contact </label>
                                <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.EmergencyContact.$dirty" ng-class="editstudent.EmergencyContact.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                  <input id="inputEmergencyContact" type="text" placeholder="Emergency Contact Name" name="EmergencyContact" ng-model="vmstudent.students.EmergencyContact" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="80" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                    class="form-control">
                                </div>
                                <div style="color:maroon" role="alert" ng-messages="editstudent.EmergencyContact.$error" class="has-error">
                                  <div ng-message="required">You did not enter a field</div>
                                  <div ng-message="minlength">Your field is too short</div>
                                  <div ng-message="maxlength">Your field is too long</div>
                                  <div ng-message="email">Your email is missing @ and/or a period</div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-6">
                              <div ng-class="{'has-error': editstudent.Notes.$invalid, 'has-success': !editstudent.Notes.$invalid}" class="form-group">
                                <label for="inputNotes" class="control-label">Notes </label>
                                <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Notes.$dirty" ng-class="editstudent.Notes.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                  <textarea id="inputNotes" type="text" placeholder="Enter notes" name="Notes" ng-model="vmstudent.students.Notes" ng-change="vmstudent.updateStudent()" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control"></textarea>
                                </div>
                                <div style="color:maroon" role="alert" ng-messages="editstudent.Notes.$error" class="has-error">
                                  <div ng-message="required">You did not enter a field</div>
                                  <div ng-message="minlength">Your field is too short</div>
                                  <div ng-message="maxlength">Your field is too long</div>
                                  <div ng-message="email">Your email is missing @ and/or a period</div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div ng-class="{'has-error': editstudent.medicalConcerns.$invalid, 'has-success': !editstudent.medicalConcerns.$invalid}" class="form-group">
                                <label for="inputmedicalConcerns" class="control-label">Medical Concerns </label>
                                <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.medicalConcerns.$dirty" ng-class="editstudent.medicalConcerns.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                  <textarea id="inputmedicalConcerns" type="text" placeholder="Enter Medical concerns" name="medicalConcerns" ng-model="vmstudent.students.medicalConcerns" ng-change="vmstudent.updateStudent()" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                    class="form-control"></textarea>
                                </div>
                                <div style="color:maroon" role="alert" ng-messages="editstudent.medicalConcerns.$error" class="has-error">
                                  <div ng-message="required">You did not enter a field</div>
                                  <div ng-message="minlength">Your field is too short</div>
                                  <div ng-message="maxlength">Your field is too long</div>
                                  <div ng-message="email">Your email is missing @ and/or a period</div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <h3 class="block-heading">Address Information</h3>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.Address.$invalid, 'has-success': !editstudent.Address.$invalid}" class="form-group">
                            <label for="inputAddress" class="control-label">Address </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Address.$dirty" ng-class="editstudent.Address.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputAddress" type="text" placeholder="999 Street Address" name="Address" ng-model="vmstudent.students.Address" ng-change="vmstudent.updateStudent()" minLength="5" maxLength="120" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.Address.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.City.$invalid, 'has-success': !editstudent.City.$invalid}" class="form-group">
                            <label for="inputCity" class="control-label">City </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.City.$dirty" ng-class="editstudent.City.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputCity" type="text" placeholder="City" name="City" ng-model="vmstudent.students.City" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.City.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.ZIP.$invalid, 'has-success': !editstudent.ZIP.$invalid}" class="form-group">
                            <label for="inputZIP" class="control-label">Zip/Postal Code </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.ZIP.$dirty" ng-class="editstudent.ZIP.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputZIP" type="text" name="ZIP" ng-model="vmstudent.students.ZIP" ng-change="vmstudent.updateStudent()" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="z in vmstudent.zipList.zips" ng-selected="{{z==vmstudent.students.ZIP}}" placeholder="Select" value="{{z.zip}}">{{z.zip}} - {{z.city}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.ZIP.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6"></div>
                      </div>
                      <h3 class="block-heading">Dojo Information</h3>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.ContactType.$invalid, 'has-success': !editstudent.ContactType.$invalid}" class="form-group">
                            <label for="inputContactType" class="control-label">Contact Type </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.ContactType.$dirty" ng-class="editstudent.ContactType.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputContactType" type="text" name="ContactType" ng-model="vmstudent.students.ContactType" ng-change="vmstudent.updateStudent()" minLength="3" maxLength="20" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                class="form-control">
                                <option 
                                  ng-repeat="iter in vmstudent.StudentList.ContactTypeList" 
                                  ng-selected="{{iter.listkey==vmstudent.students.ContactType}}" 
                                  placeholder="Select" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.ContactType.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.quickbooklink.$invalid, 'has-success': !editstudent.quickbooklink.$invalid}" class="form-group">
                            <label for="inputquickbooklink" class="control-label">Quickbook Link </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.quickbooklink.$dirty" ng-class="editstudent.quickbooklink.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputquickbooklink" type="text" placeholder="Quickbook" name="quickbooklink" ng-model="vmstudent.students.quickbooklink" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.quickbooklink.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="portlet portlet-primary col-md-6">
                          <div class="portlet-header">
                            <div class="caption">Ranks</div>
                          </div>
                          <div class="portlet-body">
                            <div class="table-tools">
                              <div class="row col-md-offset-11 mbs">
                                <button type="button" class="btn btn-blue mrs" ng-click="vmstudent.isCollapsed = !vmstudent.isCollapsed">New</button>
                              </div>
                            </div>
                            <div class="row col-md-12">
                              <div uib-collapse="vmstudent.isCollapsed">
                                <div class="well well-lg">
                                  <div class="container-fluid">
                                    <div class="container col-md-12">
                                      <div class="row ">
                                        <div class="col-md-4">
                                          <div ng-class="{'has-error': editstudent.pRankType.$invalid, 'has-success': !editstudent.pRankType.$invalid}" class="form-group">
                                            <label for="inputpRankType" class="control-label">Rank Type </label>
                                            <div class="input-icon right">
                                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.pRankType.$dirty" ng-class="editstudent.pRankType.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                              <select id="inputpRankType" type="text" name="pRankType" ng-model="vmstudent.ranktypepick" ng-change="vmstudent.getRank()" minLength="3" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                class="form-control">
                                <option ng-repeat="iter in vmstudent.RankTypeList" 
                                    placeholder="Select" value="{{iter.ranktype}}">{{iter.ranktype}}</option>
                                  </select>
                                              <div style="color:maroon" role="alert" ng-messages="editstudent.pRankType.$error" class="has-error">
                                                <div ng-message="required">You did not enter a field</div>
                                                <div ng-message="minlength">Your field is too short</div>
                                                <div ng-message="maxlength">Your field is too long</div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="col-md-5">
                                          <div ng-class="{'has-error': editstudent.pRank.$invalid, 'has-success': !editstudent.pRank.$invalid}" class="form-group">
                                            <label for="inputpRank" class="control-label">Rank </label>
                                            <div class="input-icon right">
                                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.pRank.$dirty" ng-class="editstudent.pRank.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                              <select id="inputpRank" type="text" name="pRank" ng-disabled="editstudent.pRankType.$invalid" ng-model="vmstudent.rankpick" minLength="3" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                class="form-control">
                                    <option 
                                      ng-repeat="r in vmstudent.ranklist.ranklist track by r.rankid" 
                                      placeholder="Select" 
                                      value="{{r.ranklist}}">{{r.ranklist}}</option>
                    
                                  </select>
                                              <div style="color:maroon" role="alert" ng-messages="editstudent.pRank.$error" class="has-error">
                                                <div ng-message="required">You did not enter a field</div>
                                                <div ng-message="minlength">Your field is too short</div>
                                                <div ng-message="maxlength">Your field is too long</div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="actions col-md-3 form-group">
                                          <label for="rankbtn" class="control-label">&nbsp; </label>
                                          <a role="button" ng-disabled="editstudent.pRankType.$invalid || editstudent.pRank.$invalid" class="btn btn-green form-control" ng-click="vmstudent.addStudentRank()"><i class="fa fa-plus"></i>&nbsp; Add</a>
                                        </div>
                                      </div>
                                    </div>

                                  </div>
                                </div>
                              </div>
                              <div class="">
                                <table class="col-md-12 table-striped table-hover table-bordered">
                                  <thead>
                                    <tr>
                                      <th>Type</th>
                                      <th>Rank</th>
                                      <th>Action</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr ng-repeat="item in vmstudent.studentranks track by $index">
                                      <td class="col-md-4">{{item.ranktype}}
                                      </td>
                                      <td class="col-md-4">{{item.currentrank}}
                                      </td>
                                      <td class="col-md-4"><span> <a ng-click="vmstudent.rankremove(item.ranktype)" role="button" class="btn btn-red" style="padding:  0px 14px;" ><i class="fa fa-trash-o"></i>&nbsp; Remove</a></span></td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.StudentSchool.$invalid, 'has-success': !editstudent.StudentSchool.$invalid}" class="form-group">
                            <label for="inputStudentSchool" class="control-label">School </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.StudentSchool.$dirty" ng-class="editstudent.StudentSchool.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputStudentSchool" type="text" name="StudentSchool" ng-model="vmstudent.students.StudentSchool" ng-change="vmstudent.updateStudent()" minLength="3" maxLength="80" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.StudentSchoolList" ng-selected="{{iter.listkey==vmstudent.students.StudentSchool}}" placeholder="Select" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.StudentSchool.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.GuiSize.$invalid, 'has-success': !editstudent.GuiSize.$invalid}" class="form-group">
                            <label for="inputGuiSize" class="control-label">Gi Size </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.GuiSize.$dirty" ng-class="editstudent.GuiSize.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputGuiSize" type="text" name="GuiSize" ng-model="vmstudent.students.GuiSize" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.GuiSizeList" ng-selected="{{iter.listkey==vmstudent.students.GuiSize}}" placeholder="Size" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.GuiSize.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.ShirtSize.$invalid, 'has-success': !editstudent.ShirtSize.$invalid}" class="form-group">
                            <label for="inputShirtSize" class="control-label">Shirt Size </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.ShirtSize.$dirty" ng-class="editstudent.ShirtSize.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputShirtSize" type="text" name="ShirtSize" ng-model="vmstudent.students.ShirtSize" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.ShirtSizeList" ng-selected="{{iter.listkey==vmstudent.students.ShirtSize}}" placeholder="Size" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.ShirtSize.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.BeltSize.$invalid, 'has-success': !editstudent.BeltSize.$invalid}" class="form-group">
                            <label for="inputBeltSize" class="control-label">Belt Size </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.BeltSize.$dirty" ng-class="editstudent.BeltSize.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputBeltSize" type="text" name="BeltSize" ng-model="vmstudent.students.BeltSize" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.BeltSizeList" ng-selected="{{iter.listkey==vmstudent.students.BeltSize}}" placeholder="Size" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.BeltSize.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.InstructorPaymentFree.$invalid, 'has-success': !editstudent.InstructorPaymentFree.$invalid}" class="form-group">
                            <label for="inputInstructorPaymentFree" class="control-label">Instr. Payment Free </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.InstructorPaymentFree.$dirty" ng-class="editstudent.InstructorPaymentFree.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <toggle-switch on-label="free" off-label="charge" id="inputInstructorPaymentFree" type="checkbox" name="InstructorPaymentFree" ng-model="vmstudent.students.InstructorPaymentFree" ng-change="vmstudent.updateStudent()" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                class="switch-primary"></toggle-switch>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.InstructorPaymentFree.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.instructorTitle.$invalid, 'has-success': !editstudent.instructorTitle.$invalid}" class="form-group">
                            <label for="inputinstructorTitle" class="control-label">Title </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.instructorTitle.$dirty" ng-class="editstudent.instructorTitle.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputinstructorTitle" type="text" name="instructorTitle" ng-model="vmstudent.students.instructorTitle" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                class="form-control">
                                <option ng-repeat="iter in vmstudent.StudentList.instructorTitleList" ng-selected="{{iter.listkey==vmstudent.students.instructorTitle}}" placeholder="Select" value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.instructorTitle.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>

                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </uib-tab>
      <uib-tab index="2" id="tab-studentclass" heading="Class" select="vmstudent.setActiveTab(2,'studentclassselect');classtabShown = !classtabShown" deselect="classtabShown = !classtabShown">
        <div class="row" ng-controller="StudentClassController as vmclass">
          <div class="col-lg-12">
            <div class="panel panel-blue">
              <div class="panel-heading">Programs</div>
              <div class="panel-body pan">
                <div>
                  <form action="" novalidate name="editstudentclass" class="form-horizontal">
                    <div class="form-body pal">
                      <h3 class="block-heading">Class Information</h3>
                      <div class="row">
                        <div class="portlet portlet-primary col-md-12">
                          <div class="portlet-header">
                            <div class="caption">Student Class Registration</div>
                          </div>
                          <div class="portlet-body">
                            <div class="table-tools">
                              <div class="row col-md-offset-11 mbs">
                                <button type="button" class="btn btn-blue mrs" ng-click="vmclass.isCollapsed = !vmclass.isCollapsed">New</button>
                              </div>
                            </div>
                            <div class="row col-md-12">
                              <div uib-collapse="vmclass.isCollapsed">
                                <div class="well well-lg">
                                  <div class="container-fluid">
                                    <div class="container col-md-12">
                                      <div class="row">
                                        <div class="col-md-2 btn" style="margin-top: 10px;">
                                          <div ng-controller="ModalSetStudentClassController as vmsetclassmodal">
                                            <script id="myClasssearch.html" type="text/ng-template">
                                              <div class="modal-header">
                                                <h3 class="modal-title">Select Student Class</h3>
                                              </div>
                                              <div class="modal-body">
                                                <div class="col-md-12">
                                                  <div>{{vmsearch.vmclass.concat}}</div>
                                                  <div class="row">
                                                    <div opt-kind="" ok-key="filter" class="btn-group col-md-12 filters-button-group">
                                                      <button ok-sel="*" ng-click="vmsearch.vmclass.clearSelect()" class="btn btn-default">Show All</button>
                                                    </div>
                                                  </div>
                                                  <div class="row">
                                                    <div opt-kind="" ok-key="filter" class="btn-group col-md-12 filters-button-groupcat">
                                                      <div class="col-md-1">
                                                        <button ng-click="vmsearch.vmclass.clearCatSelect()" class="btn btn-sm btn-green active">Show All</button>
                                                      </div>
                                                      <div ng-repeat="category in vmsearch.vmclass.classcategories" class="">
                                                        <div class="col-md-1">
                                                          <button ok-sel="{{vmsearch.vmclass.concat}}" ng-click="vmsearch.vmclass.catset(category.classcat)" ng-model="classcategories" class="btn btn-sm btn-green">{{category.classcat}}</button>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                  <div class="row">
                                                    <div opt-kind="" ok-key="filter" class="btn-group col-md-12 filters-button-groupage">
                                                      <div class="col-md-1">
                                                        <button ng-click="vmsearch.vmclass.clearAgeSelect()" class="btn btn-sm btn-orange active">Show All</button>
                                                      </div>
                                                      <div ng-repeat="age in vmsearch.vmclass.agecategories" class="">
                                                        <div class="col-md-1">
                                                          <button ok-sel="{{vmsearch.vmclass.concat}}" ng-click="vmsearch.vmclass.ageset(age.agecat)" ng-model="agecategories" class="btn btn-sm btn-orange">{{age.agecat}}</button>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                  <div class="row">
                                                    <div opt-kind="" ok-key="filter" class="btn-group col-md-12 filters-button-grouppgm">
                                                      <div class="col-md-1">
                                                        <button ng-click="vmsearch.vmclass.clearPgmSelect()" class="btn btn-sm btn-violet active">Show All</button>
                                                      </div>
                                                      <div ng-repeat="pgm in vmsearch.vmclass.pgmcategories" class="">
                                                        <div class="col-md-1">
                                                          <button ok-sel="{{vmsearch.vmclass.concat}}" ng-click="vmsearch.vmclass.pgmset(pgm.pgmcat)" ng-model="pgmcategories" class="btn btn-sm btn-violet">{{pgm.pgmcat}}</button>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                  <div class="row">
                                                    <div id="isotopeContainer" isotope-container ng-cloak class="mix-grid ng-cloak">
                                                      <pre>{{vmsearch.vmclass}}</pre>
                                                      <div ng-repeat="x in vmsearch.vmclass.xlistnew.studentclasslist track by $index" isotope-item="" class="col-md-3 mix {{x.classcat[0][0]}} {{x.agecat[0][0]}} {{x.pgmcat[0][0]}}">
                                                        <div class="hover-effect">
                                                          <div class="img">
                                                            <img ng-src="images/classes/{{x.pictureurl}}" alt="" class="img-responsive" />
                                                          </div>
                                                          <div class="info">
                                                            <h4>{{x.class}} - {{x.pgm}}</h4>
                                                            <div>
                                                              <button type="button" ng-click="vmsearch.closemodal(vmsearch.vmclass.studentclass.contactID,x.classid,x.pgmid);" class="btn btn-default btn-sm mix-link">Select {{x.class}} - {{x.pgm}}</button>
                                                            </div>
                                                          </div>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                              <div class="modal-footer">
                                                <button class="btn btn-primary" type="button" ng-click="vmsearch.closemodal();">Cancel</button>
                                              </div>
                                            </script>
                                            <div class=" btn">
                                              <a role="button" href class="btn btn-green form-control" ng-click="vmsetclassmodal.opensearch()"><i class=
                                      " fa fa-search"></i>&nbsp; Search</a>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="col-md-8">
                                          <div class="col-md-3">
                                            <div class="form-group">
                                              <label for="inputsc_Class" class="control-label">Student Class</label>
                                              <div>
                                                <input id="inputsc_Class" type="text" placeholder="Student Class" name="sc_Class" ng-model="vmclass.studentclass.class" ng-disabled="true" required class="form-control">
                                              </div>
                                            </div>
                                          </div>
                                          <div class="col-md-3">
                                            <div class="form-group">
                                              <label for="inputsc_pgmclass" class="control-label">Student Program</label>
                                              <div>
                                                <input id="inputsc_pgmclass" type="text" placeholder="Student Program" name="pgmclass" ng-model="vmclass.studentclass.pgmclass" ng-disabled="true" required class="form-control">
                                              </div>
                                            </div>
                                          </div>
                                          <div class="col-md-3">
                                            <div ng-class="{'has-error': editstudentclass.studentclassstatus.$invalid, 'has-success': !editstudentclass.studentclassstatus.$invalid}" class="form-group">
                                              <label for="inputsc_Classstatus" class="control-label">Student Status</label>
                                              <div class="input-icon right">
                                                <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudentclass.studentclassstatus.$dirty" ng-class="editstudentclass.studentclassstatus.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                <select id="inputsc_Classstatus" type="text" name="studentclassstatus" ng-model="vmclass.studentclass.studentclassstatus" ng-change="" minLength="2" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                  class="form-control">
                                                    <option ng-repeat="iter in vmclass.classstatuses.studentclassstatuses" ng-selected="{{iter.status==vmclass.studentclass.studentclassstatus}}" placeholder="Select" value="{{iter.status}}">{{iter.status}}</option>
                                                  </select>
                                              </div>
                                              <div style="color:maroon" role="alert" ng-messages="editstudentclass.studentclassstatus.$error" class="has-error">
                                                <div ng-message="required">You did not enter a field</div>
                                                <div ng-message="minlength">Your field is too short</div>
                                                <div ng-message="maxlength">Your field is too long</div>
                                                <div ng-message="email">Your email is missing @ and/or a period</div>
                                              </div>
                                            </div>
                                          </div>
                                          <div class="col-md-3">
                                            <div ng-class="{'has-error': editstudentclass.payerName.$invalid, 'has-success': !editstudentclass.payerName.$invalid}" class="form-group">
                                              <label for="inputsc_payerName" class="control-label">Payer Name</label>
                                              <div class="input-icon right">
                                                <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudentclass.payerName.$dirty" ng-class="editstudentclass.payerName.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                <ui-select ng-model="vmclass.studentclass.payerName" theme="bootstrap" reset-search-input="false" style="width: 300px;" title="Pick Payer" append-to-body="false">
                                                  <ui-select-match placeholder="Choose...">{{$select.selected.payerName}}</ui-select-match>
                                                  <ui-select-choices repeat="item in vmclass.payers | filter: $select.search track by $index" refresh="vmclass.getPayersPartial($select.search)" refresh-delay="0">
                                                    <div id="payerpicklist" ng-bind-html="item.payerName | highlight: $select.search"></div>
                                                  </ui-select-choices>
                                                  <ui-select-no-choice>
                                                    Dang! We couldn't find any choices...
                                                  </ui-select-no-choice>
                                                </ui-select>
                                              </div>
                                              <div style="color:maroon" role="alert" ng-messages="editstudentclass.payerName.$error" class="has-error">
                                                <div ng-message="required">You did not enter a field</div>
                                                <div ng-message="minlength">Your field is too short</div>
                                                <div ng-message="maxlength">Your field is too long</div>
                                                <div ng-message="email">Your email is missing @ and/or a period</div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="col-md-2">
                                          <div class="gallery-pages">
                                            <div class="mix-grid">
                                              <div class="mix">
                                                <div class="hover-effect">
                                                  <div class="img" ng-if="vmclass.studentclass.pictureurl">
                                                    <img ng-src="images/classes/{{vmclass.studentclass.pictureurl}}" alt="" class="img-responsive" />
                                                  </div>
                                                  <div class="info">
                                                    <h3>{{vmclass.studentclass.class}} - {{vmclass.studentclass.pgmclass}}</h3>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="row">
                                        <div class="col-md-2 btn" style="margin-top: 18px;">
                                          <div class="table-tools">
                                            <div class="row">
                                              <div ng-controller="ModalNewPayerController as vmpmodal">

                                                <div class="col-lg-12 mbs">
                                                  <button type="button" class="btn btn-blue mrs" ng-click="vmpmodal.openmodal()">
                                                        <i class="fa fa-plus"></i>&nbsp; New Payer</button>
                                                </div>
                                                <script id="newPayer.html" type="text/ng-template">
                                                  <div class="modal-header">
                                                    <h3 class="modal-title">Create New Payer</h3>
                                                  </div>
                                                  <div class="modal-body">
                                                    <pre>{{vmnew.message}}</pre>
                                                    <form action="" novalidate name="newPayer" class="form-horizontal">
                                                      <div class="form-body pal">
                                                        <div class="row">
                                                          <div class="col-md-6">
                                                            <div class="form-group">
                                                              <label for="inputPayerName" class="control-label">Payer Name </label>
                                                              <input id="inputPayerName" type="text" placeholder="Payer Name" name="PayerName" ng-model="vmnew.payerName" minLength="2" maxLength="30" class="form-control">
                                                            </div>
                                                          </div>
                                                        </div>
                                                      </div>
                                                    </form>
                                                  </div>
                                                  <div class="modal-footer">
                                                    <button class="btn btn-primary" type="button" ng-click="vmnew.submit()">Submit</button>
                                                    <button class="btn btn-warning" type="button" ng-click="vmnew.cancel()">Cancel</button>
                                                  </div>
                                                </script>
                                              </div>

                                            </div>
                                          </div>
                                        </div>
                                        <div class="col-md-2 btn" style="margin-top: 18px;">
                                          <label for="rankbtn" class="control-label">&nbsp; </label>
                                          <a role="button" ng-disabled="editstudentclass.studentclassstatus.$invalid || editstudentclass.pgmclass.$invalid" class="btn btn-green form-control" ng-click="vmclass.addStudentRegistration()"><i class="fa fa-plus"></i>&nbsp; Register</a>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="">
                                <table class="col-md-12 table-striped table-hover table-bordered">
                                  <thead>
                                    <tr>
                                      <th>Class</th>
                                      <th>Program</th>
                                      <th>Status</th>
                                      <th>Payer</th>
                                      <th>Waive Test Fee?</th>
                                      <th>Picture</th>
                                      <th>Action</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr ng-repeat="classlist in vmclass.studentclazzlist track by $index" style="z-index: {{200 - $index}}">
                                      <td class="col-md-2">{{classlist.class}}</td>
                                      <td class="col-md-2">{{classlist.pgmclass}}</td>

                                      <td class="col-md-2">
                                        <div ng-class="{'has-error': editstudentclass['lstudentclassstatus' + $index].$invalid,
                                                        'has-success': !editstudentclass['lstudentclassstatus' + $index].$invalid}" class="form-group">
                                          <div class="input-icon right">
                                            <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudentclass['lstudentclassstatus' + $index].$dirty" ng-class="editstudentclass['lstudentclassstatus' + $index].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                            <select id="lstudentclassstatus{{$index}}" type="text" name="lstudentclassstatus{{$index}}" ng-model="classlist.studentclassstatus" ng-change="vmclass.changeStudentStatus(classlist)" minLength="2" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                              class="form-control">
                                                <option ng-repeat="iter in vmclass.classstatuses.studentclassstatuses" 
                                                ng-selected="{{iter.status==classlist.studentclassstatus}}" 
                                                placeholder="Select" value="{{iter.status}}">{{iter.status}}</option>
                                              </select>
                                          </div>
                                          <div style="color:maroon" role="alert" ng-messages="editstudentclass['lstudentclassstatus'  + $index].$error" class="has-error">
                                            <div ng-message="required">You did not enter a field</div>
                                            <div ng-message="minlength">Your field is too short</div>
                                            <div ng-message="maxlength">Your field is too long</div>
                                          </div>
                                        </div>
                                      </td>
                                      <td class="col-md-2" style="position: relative; top:-17px;">
                                        <div class="form-group">
                                          <div class="select-box">
                                            <ui-select ng-model="classlist.payerList" theme="bootstrap" reset-search-input="false" on-select="vmclass.changeStudentPayer(classlist)" style="width: 180px; " title="Pick Payer" append-to-body="false">
                                              <ui-select-match placeholder="Choose...">{{$select.selected.payerName}}</ui-select-match>
                                              <ui-select-choices repeat="item in vmclass.payers | filter: $select.search" refresh="vmclass.getPayersPartial($select.search)" refresh-delay="0">
                                                <div id="payerpicklist" ng-bind-html="item.payerName | highlight: $select.search"></div>
                                              </ui-select-choices>
                                              <ui-select-no-choice>
                                                Dang! We couldn't find any choices...
                                              </ui-select-no-choice>
                                            </ui-select>
                                          </div>
                                        </div>
                                      </td>
                                      <td class="col-md-2">
                                        <div>
                                          <div ng-class="{'has-error': editstudentclass['isTestfeewaived' + $index].$invalid, 
                                        'has-success': !editstudentclass['isTestfeewaived' + $index].$invalid}" class="form-group">
                                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudentclass['isTestfeewaived' + $index].$dirty" ng-class="editstudentclass['isTestfeewaived' + $index].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' "
                                                class="glyphicon tooltips"></i>

                                              <toggle-switch on-label="Waive" off-label="Charge" id="isTestfeewaived{{$index}}" type="checkbox" name="isTestfeewaived{{$index}}" ng-model="classlist.isTestfeewaived" ng-change="vmclass.changetestfee(classlist)" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                class="switch-primary"></toggle-switch>

                                            </div>
                                            <div style="color:maroon" role="alert" ng-messages="editstudentclass['isTestfeewaived' + $index].$error" class="has-error">
                                              <div ng-message="required">You did not enter a field</div>
                                            </div>
                                          </div>
                                        </div>
                                      </td>
                                      <td class="col-md-2">
                                        <div class="gallery-pages">
                                          <div class="mix-grid">
                                            <div class="mix">
                                              <div class="hover-effect">
                                                <div class="img" ng-if="classlist.pictureurl">
                                                  <img ng-src="images/classes/{{classlist.pictureurl}}" alt="" class="img-responsive" />
                                                </div>
                                                <div class="info">
                                                  <h3>{{classlist.class}} - {{classlist.pgmclass}}</h3>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </td>
                                      <td class="col-md-2"><span> <a ng-click="vmclass.removeStudentRegistration(classlist.classseq, classlist.pgmseq)" role="button" class="btn btn-red" style="padding:  0px 14px;" ><i class="fa fa-trash-o"></i>&nbsp; Remove</a></span></td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
                <hr/>
              </div>
            </div>
          </div>
        </div>

      </uib-tab>
      <uib-tab index="3" id="tab-studentpayment" heading="Payment" select="vmstudent.setActiveTab(3,'studentpaymentselect'); paymenttabShown = !paymenttabShown" deselect="paymenttabShown = !paymenttabShown">
        <div class="row" ng-controller="StudentPaymentController as vmpayment">
          <div class="col-lg-12">
            <div class="panel panel-blue">
              <div class="panel-heading">Payment</div>
              <div class="panel-body pan">
                <div class="col-md-12 form-body pal">
                  <form action="" novalidate name="editPaymentPlan" class="form-horizontal">
                    <div class="row">
                      <div class="row col-md-2">
                        <h3 class="block-heading">Payer</h3>
                        <div class="mlm form-group">
                          <div class="input-icon right">
                            <select id="inputsc_payer" type="text" name="studentpayer" ng-model="vmpayment.studentpayer" ng-change="vmpayment.payerSet(vmpayment.studentpayer);" class="form-control" ng-options="iter.payerid as iter.payername for iter in vmpayment.payerlist">
                            </select>
                          </div>
                          <div>
                            <a role="button" class="btn btn-red form-control" ng-click="vmpayment.removePayer()"><i class="fa fa-minus"></i>&nbsp; Remove {{vmpayment.studentpayer.payername}}</a>
                          </div>
                        </div>
                      </div>
                      <div class="row col-md-12">
                        <div>
                          <div class="form-body pal">
                            <div class="row">
                              <div class="portlet portlet-primary col-md-12">
                                <div class="portlet-header">
                                  <div class="caption">Payment Plan</div>
                                </div>
                                <div class="portlet-body">
                                  <div class="table-tools">
                                    <div class="row col-md-offset-11 mbs">
                                      <button type="button" class="btn btn-blue mrs" ng-click="vmpayment.isCollapsed = !vmpayment.isCollapsed">New</button>
                                    </div>
                                  </div>
                                  <div class="row col-md-12">
                                    <div uib-collapse="vmpayment.isCollapsed">
                                      <div class="well well-lg">
                                        <div class="container-fluid">
                                          <div class="container col-md-12">
                                            <div class="row">
                                              <div class="col-md-2">
                                                <div ng-class="{'has-error': editPaymentPlan['PaymentPlanHead'].$invalid, 
                                                      'has-success': !editPaymentPlan['PaymentPlanHead'].$invalid}" class="form-group">
                                                  <label for="PaymentPlanHead" class="control-label">Plan</label>
                                                  <div class="input-icon right">
                                                    <i data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['PaymentPlanHead'].$dirty" ng-class="editPaymentPlan['PaymentPlanHead'].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                    <select id="PaymentPlanHead" type="text" name="PaymentPlanHead" ng-model="vmpayment.head.PaymentPlan" ng-change="" minLength="2" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                              <option ng-repeat="iter in vmpayment.PaymentPlans" ng-selected="{{iter.paymentplan==vmpayment.head.PaymentPlan}}" 
                                              placeholder="Select" value="{{iter.paymentplan}}">{{iter.paymentplan}}</option>
                                            </select>
                                                  </div>
                                                </div>
                                                <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['PaymentPlanHead'].$error" class="has-error">
                                                  <div ng-message="required">You did not enter a field</div>
                                                  <div ng-message="minlength">Your field is too short</div>
                                                  <div ng-message="maxlength">Your field is too long</div>
                                                </div>
                                              </div>
                                              <div class="col-md-2">
                                                <div ng-class="{'has-error': editPaymentPlan['PaymentTypeHead'].$invalid, 
                                      'has-success': !editPaymentPlan['PaymentTypeHead'].$invalid}" class="form-group">
                                                  <label for="PaymentTypeHead" class="control-label">Type</label>
                                                  <div class="input-icon right">
                                                    <i data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['PaymentTypeHead'].$dirty" ng-class="editPaymentPlan['PaymentTypeHead'].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                    <select id="PaymentTypeHead" type="text" name="PaymentTypeHead" ng-model="vmpayment.head.paymenttype" ng-change="" minLength="2" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                              <option ng-repeat="iter in vmpayment.PaymentTypes" ng-selected="{{iter.paymenttype==vmpayment.head.paymenttype}}" 
                                              placeholder="Select" value="{{iter.paymenttype}}">{{iter.paymenttype}}</option>
                                            </select>
                                                  </div>
                                                </div>
                                                <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['PaymentTypeHead'].$error" class="has-error">
                                                  <div ng-message="required">You did not enter a field</div>
                                                  <div ng-message="minlength">Your field is too short</div>
                                                  <div ng-message="maxlength">Your field is too long</div>
                                                </div>
                                              </div>
                                              <div class="col-md-2">
                                                <label for="PricesetdateHead" class="control-label">Date Set</label>
                                                <div ng-class="{'has-error': editPaymentPlan['PricesetdateHead'].$invalid, 
                                      'has-success': !editPaymentPlan['PricesetdateHead'].$invalid}" class="form-group">
                                                  <div class="col-md-9" style="padding-right: 0px;">
                                                    <div class="input-icon right">
                                                      <i ng-click="vmpayment.dateopen($event, 'head')" data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['PricesetdateHead'].$dirty" ng-class="editPaymentPlan['PricesetdateHead'].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                      <input id="PricesetdateHead" type="text" placeholder="mm/dd/yyyy" name="PricesetdateHead" required ng-model="vmpayment.head.Pricesetdate" ng-change="" is-open="vmpayment.statushead.opened" uib-datepicker-popup="{{vmpayment.bdateformat}}" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                        class="form-control">
                                                    </div>
                                                  </div>
                                                  <div class="col-md-1" style="padding-right: 0px; padding-left: 0px;">
                                                    <button type="button" class="btn btn-default" ng-click="vmpayment.dateheadopen($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                                                  </div>
                                                </div>
                                                <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['PricesetdateHead'].$error" class=" has-error">
                                                  <div ng-message="required">You did not enter a field</div>
                                                  <div ng-message="minlength">Your field is too short</div>
                                                  <div ng-message="maxlength">Your field is too long</div>
                                                </div>
                                              </div>
                                              <div class="col-md-1">
                                                <div class="form-group" ng-class="{'has-error': editPaymentPlan['PaymentAmountHead'].$invalid, 
                                                                        'has-success': !editPaymentPlan['PaymentAmountHead'].$invalid}">
                                                  <label for="PaymentAmountHead" class="control-label">Amount</label>
                                                  <div class="input-icon right">
                                                    <i class="glyphicon tooltips" data-hover="tooltip" data-original-title="Correct" ng-class="editPaymentPlan['PaymentAmountHead'].$invalid ? 'glyphicon-remove' : 'glyphicon-ok'" ng-show="editPaymentPlan['PaymentAmountHead'].$dirty"></i>
                                                    <input class="form-control" id="PaymentAmountHead" maxlength="20" name="PaymentAmountHead" ng-change="" min="0" ng-model="vmpayment.head.PaymentAmount" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" placeholder="99"
                                                      type="number">
                                                  </div>
                                                </div>
                                                <div class="has-error" ng-messages="editPaymentPlan['PaymentAmountHead'].$error" role="alert" style="color:maroon">
                                                  <div ng-message="required">
                                                    You did not enter a field
                                                  </div>
                                                  <div ng-message="maxlength">
                                                    Your field is too long
                                                  </div>
                                                  <div ng-message="min">Your field value is less than minimum value 1</div>
                                                </div>
                                              </div>
                                              <div class="col-md-1">
                                                <div class="form-group" ng-class="{'has-error': editPaymentPlan['payOnDayOfMonthHead'].$invalid, 
                                      'has-success': !editPaymentPlan['payOnDayOfMonthHead'].$invalid}">
                                                  <label for="payOnDayOfMonthHead" class="control-label">Pay on</label>
                                                  <div class="input-icon right">
                                                    <i class="glyphicon tooltips" data-hover="tooltip" data-original-title="Correct" ng-class="editPaymentPlan['payOnDayOfMonthHead'].$invalid ? 'glyphicon-remove' : 'glyphicon-ok'" ng-show="editPaymentPlan['payOnDayOfMonthHead'].$dirty"></i>                                                    <input class="form-control" id="payOnDayOfMonthHead" minlength="1" maxlength="2" name="payOnDayOfMonthHead" min="1" max="31" ng-model="vmpayment.head.payOnDayOfMonth" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                      placeholder="99" type="number">
                                                  </div>
                                                </div>
                                                <div class="has-error" ng-messages="editPaymentPlan['payOnDayOfMonthHead'].$error" role="alert" style="color:maroon">
                                                  <div ng-message="required">
                                                    You did not enter a field
                                                  </div>
                                                  <div ng-message="minlength">
                                                    Your field is too short
                                                  </div>
                                                  <div ng-message="maxlength">
                                                    Your field is too long
                                                  </div>
                                                  <div ng-message="min">Your field value is less than minimum value 1</div>
                                                  <div ng-message="max">Your field value is greater than max value 31</div>
                                                </div>
                                              </div>
                                              <div class="col-md-2">
                                                <div ng-class="{'has-error': editPaymentPlan['PaymentNotesHead'].$invalid, 
                                      'has-success': !editPaymentPlan['PaymentNotesHead'].$invalid}" class="form-group">
                                                  <label for="PaymentNotesHead" class="control-label">Notes</label>
                                                  <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['PaymentNotesHead'].$dirty" ng-class="editPaymentPlan['PaymentNotesHead'].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' "
                                                      class="glyphicon tooltips"></i>
                                                    <textarea id="PaymentNotesHead" type="text" placeholder="Enter Payment Notes" name="PaymentNotesHead" ng-model="vmpayment.head.PaymentNotes" ng-change="" ng-keyup="vmpayment.autoExpand($event)" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                      class="form-control">
                                          </textarea>
                                                  </div>
                                                </div>
                                                <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['PaymentNotesHead'].$error" class="has-error">
                                                </div>
                                              </div>
                                              <div class="col-md-1 btn">
                                                <div class="row">
                                                  <label for="PaymentBtnHead" class="control-label">Action</label>
                                                </div>
                                                <div class="row">
                                                  <a role="button" class="btn btn-green form-control" ng-click="vmpayment.updatePaymentPlan(vmpayment.head,'insert')"><i class="fa fa-plus"></i>&nbsp; Add</a>

                                                </div>
                                              </div>

                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="">
                                      <table class="col-md-12 table-striped table-hover table-bordered">
                                        <thead>
                                          <tr>
                                            <th>Plan</th>
                                            <th>Type</th>
                                            <th>Date Set</th>
                                            <th>Set by?</th>
                                            <th>Amount</th>
                                            <th>Pay on<br/>DayOfMonth</th>
                                            <th>Notes</th>
                                            <th>Action</th>
                                          </tr>
                                        </thead>
                                        <tbody>

                                          <tr ng-repeat="rowiter in vmpayment.PaymentPlanList track by $index">
                                            <td class="col-md-1">
                                              <div ng-class="{'has-error': editPaymentPlan['PaymentPlan' + $index].$invalid, 
                                                    'has-success': !editPaymentPlan['PaymentPlan' + $index].$invalid}" class="form-group">
                                                <div class="input-icon right">
                                                  <i data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['PaymentPlan' + $index].$dirty" ng-class="editPaymentPlan['PaymentPlan' + $index].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                  <select id="PaymentPlan{{$index}}" type="text" name="PaymentPlan{{$index}}" ng-model="rowiter.PaymentPlan" ng-change="vmpayment.updatePaymentPlan(rowiter,'update')" minLength="2" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                    class="form-control">
                                            <option ng-repeat="iter in vmpayment.PaymentPlans" ng-selected="{{iter.paymentplan==rowiter.PaymentPlan}}" 
                                            placeholder="Select" value="{{iter.paymentplan}}">{{iter.paymentplan}}</option>
                                          </select>
                                                </div>
                                                <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['PaymentPlan' + $index].$error" class="has-error">
                                                  <div ng-message="required">You did not enter a field</div>
                                                  <div ng-message="minlength">Your field is too short</div>
                                                  <div ng-message="maxlength">Your field is too long</div>
                                                </div>
                                              </div>
                                            </td>
                                            <td class="col-md-1">
                                              <div ng-class="{'has-error': editPaymentPlan['PaymentType' + $index].$invalid, 
                                    'has-success': !editPaymentPlan['PaymentType' + $index].$invalid}" class="form-group">
                                                <div class="input-icon right">
                                                  <i data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['PaymentType' + $index].$dirty" ng-class="editPaymentPlan['PaymentType' + $index].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                  <select id="PaymentType{{$index}}" type="text" name="PaymentType{{$index}}" ng-model="rowiter.paymenttype" ng-change="vmpayment.updatePaymentPlan(rowiter,'update')" minLength="2" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                    class="form-control">
                                            <option ng-repeat="iter in vmpayment.PaymentTypes" ng-selected="{{iter.paymenttype==rowiter.paymenttype}}" 
                                            placeholder="Select" value="{{iter.paymenttype}}">{{iter.paymenttype}}</option>
                                          </select>
                                                </div>
                                                <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['PaymentType' + $index].$error" class="has-error">
                                                  <div ng-message="required">You did not enter a field</div>
                                                  <div ng-message="minlength">Your field is too short</div>
                                                  <div ng-message="maxlength">Your field is too long</div>
                                                </div>
                                              </div>
                                            </td>
                                            <td class="col-md-2">
                                              <div ng-class="{'has-error': editPaymentPlan['Pricesetdate' + $index].$invalid, 
                                    'has-success': !editPaymentPlan['Pricesetdate' + $index].$invalid}" class="form-group">
                                                <div class="col-md-9" style="padding-right: 0px;">
                                                  <div class="input-icon right">
                                                    <i ng-click="vmpayment.dateopen($event, $index)" data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['Pricesetdate' + $index].$dirty" ng-class="editPaymentPlan['Pricesetdate' + $index].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' "
                                                      class="glyphicon tooltips"></i>
                                                    <input id="Pricesetdate{{$index}}" type="text" placeholder="mm/dd/yyyy" name="Pricesetdate{{$index}}" required ng-model="rowiter.Pricesetdate" ng-change="vmpayment.updatePaymentPlan(rowiter,'update')" is-open="vmpayment.status[$index].opened" uib-datepicker-popup="{{vmpayment.bdateformat}}"
                                                      ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                                                  </div>
                                                </div>
                                                <div class="col-md-1" style="padding-right: 0px; padding-left: 0px;">
                                                  <button type="button" class="btn btn-default" ng-click="vmpayment.dateopen($event,$index)"><i class="glyphicon glyphicon-calendar"></i></button>
                                                </div>
                                              </div>
                                              <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['Pricesetdate' + $index].$error" class="has-error">
                                                <div ng-message="required">You did not enter a field</div>
                                                <div ng-message="minlength">Your field is too short</div>
                                                <div ng-message="maxlength">Your field is too long</div>
                                              </div>
                                            </td>
                                            <td class="col-md-1">
                                              {{rowiter.PriceSetby}}
                                            </td>
                                            <td class="col-md-1">
                                              <div class="form-group" ng-class="{'has-error': editPaymentPlan['PaymentAmount' + $index].$invalid, 
                                                                      'has-success': !editPaymentPlan['PaymentAmount' + $index].$invalid}">
                                                <div class="input-icon right">
                                                  <i class="glyphicon tooltips" data-hover="tooltip" data-original-title="Correct" ng-class="editPaymentPlan['PaymentAmount' + $index].$invalid ? 'glyphicon-remove' : 'glyphicon-ok'" ng-show="editPaymentPlan['PaymentAmount' + $index].$dirty"></i>
                                                  <input class="form-control" id="PaymentAmount{{$index}}" maxlength="20" name="PaymentAmount{{$index}}" ng-change="vmpayment.updatePaymentPlan(rowiter,'update')" min="0" ng-model="rowiter.PaymentAmount" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                    placeholder="99" type="number">
                                                </div>
                                                <div class="has-error" ng-messages="editPaymentPlan['PaymentAmount' + $index].$error" role="alert" style="color:maroon">
                                                  <div ng-message="required">
                                                    You did not enter a field
                                                  </div>
                                                  <div ng-message="maxlength">
                                                    Your field is too long
                                                  </div>
                                                  <div ng-message="min">Your field value is less than minimum value 1</div>
                                                </div>
                                              </div>
                                            </td>
                                            <td class="col-md-1">
                                              <div class="form-group" ng-class="{'has-error': editPaymentPlan['payOnDayOfMonth' + $index].$invalid, 
                                    'has-success': !editPaymentPlan['payOnDayOfMonth' + $index].$invalid}">
                                                <div class="input-icon right">
                                                  <i class="glyphicon tooltips" data-hover="tooltip" data-original-title="Correct" ng-class="editPaymentPlan['payOnDayOfMonth' + $index].$invalid ? 'glyphicon-remove' : 'glyphicon-ok'" ng-show="editPaymentPlan['payOnDayOfMonth' + $index].$dirty"></i>                                                  <input class="form-control" id="payOnDayOfMonth{{$index}}" minlength="1" maxlength="2" name="payOnDayOfMonth{{$index}}" min="1" max="31" ng-change="vmpayment.updatePaymentPlan(rowiter,'update')" ng-model="rowiter.payOnDayOfMonth"
                                                    ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" placeholder="99" type="number">
                                                </div>
                                                <div class="has-error" ng-messages="editPaymentPlan['payOnDayOfMonth' + $index].$error" role="alert" style="color:maroon">
                                                  <div ng-message="required">
                                                    You did not enter a field
                                                  </div>
                                                  <div ng-message="minlength">
                                                    Your field is too short
                                                  </div>
                                                  <div ng-message="maxlength">
                                                    Your field is too long
                                                  </div>
                                                  <div ng-message="min">Your field value is less than minimum value 1</div>
                                                  <div ng-message="max">Your field value is greater than max value 31</div>
                                                </div>
                                              </div>
                                            </td>
                                            <td class="col-md-2">
                                              <div ng-class="{'has-error': editPaymentPlan['PaymentNotes' + $index].$invalid, 
                                    'has-success': !editPaymentPlan['PaymentNotes' + $index].$invalid}" class="form-group">
                                                <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['PaymentNotes' + $index].$dirty" ng-class="editPaymentPlan['PaymentNotes' + $index].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' "
                                                    class="glyphicon tooltips"></i>
                                                  <textarea id="PaymentNotes{{$index}}" type="text" placeholder="Enter Payment Notes" name="PaymentNotes{{$index}}" ng-model="rowiter.PaymentNotes" ng-change="vmpayment.updatePaymentPlan(rowiter,'update')" ng-keyup="vmpayment.autoExpand($event)" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                    class="form-control">
                                        </textarea>
                                                </div>
                                                <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['PaymentNotes' + $index].$error" class="has-error">
                                                </div>
                                              </div>
                                            </td>
                                            <td class="col-md-1">
                                              <span> <a ng-click="vmpayment.removePaymentPlan(rowiter)" role="button" class="btn btn-red" style="padding:  0px 14px;" ><i class="fa fa-trash-o"></i>&nbsp; Remove</a>
                                    </span>
                                            </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-3">
                          <div class="panel panel-blue">
                            <div class="panel-body pan">
                              <div class=" form-body pal">
                                <h3 class="block-heading">Family Members</h3>
                                <div class="row" ng-repeat="family in vmpayment.FamilyList">
                                  <div class="col-md-6">Name: {{ family.firstname }} {{family.lastname}}</div>
                                  <div class="col-md-6">
                                    <div class="fixheight100" ng-show="family.pictureurl">
                                      <img height="100px" ng-src="{{ './images/students/' + family.pictureurl || '' }}">
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-9">
                          <div class="panel panel-blue">
                            <div class="panel-body pan">
                              <div class="col-md-12 form-body pal">
                                <h3 class="block-heading">List Prices</h3>
                                <table class="col-md-10  table-striped table-hover table-bordered">
                                  <thead>
                                    <tr>
                                      <th>Name</th>
                                      <th>Class/Program/Type</th>
                                      <th>12/6/1 Month</th>
                                      <th>Weekly</th>
                                      <th>Special</th>
                                      <th>Discount 2nd/3rd/4th</th>
                                      <th>Covered by payment?</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr ng-repeat="item in vmpayment.PriceList track by $index">
                                      <td class="col-md-2">{{ item.firstname }} {{item.lastname}} </td>
                                      <td class="col-md-2">{{ item.classname}} <br/>{{ item.classlistclass}} <br/> {{ item.classType}}</td>
                                      <td class="col-md-2 text-center">{{ item.p12MonthPrice}} <br/> {{ item.p6MonthPrice}} <br/> {{ item.pMonthlyPrice}}</td>
                                      <td class="col-md-1 text-center">{{ item.pWeeklyPrice}}</td>
                                      <td class="col-md-1 text-center">{{ item.pSpecialPrice}}</td>
                                      <td class="col-md-2 text-center">{{ item.d2ndPersonDiscount}} <br/> {{ item.d3rdPersonDiscount}} <br/> {{ item.d4thPersonDiscount}}</td>
                                      <td class="col-md-2 text-center">
                                        <div ng-class="{'has-error': item.covered == 0, 
                                          'has-success': item.covered != 0 }" class="form-group">
                                          <div class="input-icon">
                                            <i data-hover="tooltip" data-original-title="Correct" ng-class="(item.covered == '0') ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                          </div>
                                        </div>
                                      </td>

                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-12">
                          <div>
                            <div class="form-body pal">
                              <div class="row">
                                <div class="portlet portlet-primary col-md-12">
                                  <div class="portlet-header">
                                    <div class="caption">Payment Plan Coverage</div>
                                  </div>
                                  <div class="portlet-body">
                                    <div class="table-tools">
                                      <div class="row col-md-offset-11 mbs">
                                        <button type="button" class="btn btn-blue mrs" ng-click="vmpayment.isCollapsed2 = !vmpayment.isCollapsed2">New</button>
                                      </div>
                                    </div>
                                    <div class="row col-md-12">
                                      <div uib-collapse="vmpayment.isCollapsed2">
                                        <div class="well well-lg">
                                          <div class="container-fluid">
                                            <div class="container col-md-12">

                                              <div class="row">
                                                <div class="col-md-5">
                                                  <div ng-class="{'has-error': editPaymentPlan['PaymentidHeadCoverage'].$invalid, 
                                                    'has-success': !editPaymentPlan['PaymentidHeadCoverage'].$invalid}" class="form-group">
                                                    <label for="PaymentidHeadCoverage" class="control-label">Payment Plan</label>
                                                    <div class="input-icon right">
                                                      <i data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['PaymentidHeadCoverage'].$dirty" ng-class="editPaymentPlan['PaymentidHeadCoverage'].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                      <select id="PaymentidHeadCoverage" type="text" name="PaymentidHeadCoverage" ng-model="vmpayment.headcoverage.paymentid" ng-change="" minLength="1" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                        class="form-control">
                                            <option ng-repeat="iter in vmpayment.PaymentPlanList" ng-selected="{{iter.paymentid==vmpayment.headcoverage.paymentid}}" 
                                            placeholder="Select" value="{{iter.paymentid}}">
                                              Plan: {{iter.PaymentPlan}} Type: {{iter.paymenttype}} Amount: {{iter.PaymentAmount}}
                                              </option>
                                          </select>
                                                    </div>
                                                  </div>
                                                  <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['PaymentidHeadCoverage'].$error" class="has-error">
                                                    <div ng-message="required">You did not enter a field</div>
                                                    <div ng-message="minlength">Your field is too short</div>
                                                    <div ng-message="maxlength">Your field is too long</div>
                                                  </div>
                                                </div>
                                                <div class="col-md-5">
                                                  <div ng-class="{'has-error': editPaymentPlan['ClasspayidHeadCoverage'].$invalid, 
                                    'has-success': !editPaymentPlan['ClasspayidHeadCoverage'].$invalid}" class="form-group">
                                                    <label for="ClasspayidHeadCoverage" class="control-label">Coverage</label>
                                                    <div class="input-icon right">
                                                      <i data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['ClasspayidHeadCoverage'].$dirty" ng-class="editPaymentPlan['ClasspayidHeadCoverage'].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                      <select id="ClasspayidHeadCoverage" type="text" name="ClasspayidHeadCoverage" ng-model="vmpayment.headcoverage.classpayid" ng-change="" minLength="1" maxLength="30" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                        class="form-control">
                                            <option ng-repeat="iter in vmpayment.PayerPaymentList" ng-selected="{{iter.classpayid==vmpayment.headcoverage.classpayid}}" 
                                            placeholder="Select" value="{{iter.classpayid}}">
                                              Class: {{iter.classname}} Program: {{iter.pgmclass}} Status: {{iter.studentClassStatus}}
                                              </option>
                                          </select>
                                                    </div>
                                                  </div>
                                                  <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['ClasspayidHeadCoverage'].$error" class="has-error">
                                                    <div ng-message="required">You did not enter a field</div>
                                                    <div ng-message="minlength">Your field is too short</div>
                                                    <div ng-message="maxlength">Your field is too long</div>
                                                  </div>
                                                </div>
                                                <div class="col-md-2 btn">
                                                  <div class="row">
                                                    <label for="PayerPaymentBtnHead" class="control-label">Action</label>
                                                  </div>
                                                  <div class="row">
                                                    <a role="button" class="btn btn-green form-control" ng-click="vmpayment.updatePaymentPay(vmpayment.headcoverage,'insert')"><i class="fa fa-plus"></i>&nbsp; Add</a>

                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="">
                                        <table class="col-md-12 table-striped table-hover table-bordered">
                                          <thead>
                                            <tr>
                                              <th>Payment Plan</th>
                                              <th>Coverage</th>
                                              <th>Action</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                            <tr ng-repeat="rowiterpcp in vmpayment.PaymentPaysList track by rowiterpcp.pcpid">
                                              <td class="col-md-5">
                                                <div ng-class="{'has-error': editPaymentPlan['PaymentID' + rowiterpcp.pcpid].$invalid, 
                                                    'has-success': !editPaymentPlan['PaymentID' + rowiterpcp.pcpid].$invalid}" class="form-group">
                                                  <div class="input-icon right">
                                                    <i data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['PaymentID' + rowiterpcp.pcpid].$dirty" ng-class="editPaymentPlan['PaymentID' + rowiterpcp.pcpid].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                    <select id="PaymentID{{rowiterpcp.pcpid}}" type="text" name="PaymentID{{rowiterpcp.pcpid}}" ng-model="rowiterpcp.paymentidstr" ng-change="vmpayment.updatePaymentPays(rowiterpcp,'update')" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                      class="form-control">
                                            <option ng-repeat="iter1 in vmpayment.PaymentPlanList" value="{{ iter1.paymentid-0 }}"  
                                            ng-selected="{{(iter1.paymentidstr == rowiterpcp.paymentidstr) && 'true' || 'false' }}" 
                                            placeholder="Select" >Plan: {{iter1.PaymentPlan}} Type: {{iter1.paymenttype}} Amount: {{iter1.PaymentAmount}}</option>
                                          </select>
                                                  </div>
                                                  <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['PaymentID' + rowiterpcp.pcpid].$error" class="has-error">
                                                    <div ng-message="required">You did not enter a field</divPaymentID <div ng-message="minlength">Your field is too short</div>
                                                    <div ng-message="maxlength">Your field is too long</div>
                                                  </div>
                                                </div>
                                              </td>
                                              <td class="col-md-5">
                                                <div ng-class="{'has-error': editPaymentPlan['ClassPayID' + rowiterpcp.pcpid].$invalid, 
                                    'has-success': !editPaymentPlan['ClassPayID' + rowiterpcp.pcpid].$invalid}" class="form-group">
                                                  <div class="input-icon right">
                                                    <i data-hover="tooltip" data-original-title="Correct" ng-show="editPaymentPlan['ClassPayID' + rowiterpcp.pcpid].$dirty" ng-class="editPaymentPlan['ClassPayID' + rowiterpcp.pcpid].$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                                                    <select id="ClassPayID{{rowiterpcp.pcpid}}" type="text" name="ClassPayID{{rowiterpcp.pcpid}}" ng-model="rowiterpcp.classpayidstr" ng-change="vmpayment.updatePaymentPays(rowiterpcp,'update')" required ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                                                      class="form-control">
                                            <option ng-repeat="iter2 in vmpayment.PayerPaymentList" ng-selected="{{iter2.classpayidstr==rowiterpcp.classpayidstr}}" 
                                            placeholder="Select" value="{{iter2.classpayid}}">
                                              Class: {{iter2.classname}} Program: {{iter2.pgmclass}} Status: {{iter2.studentClassStatus}}
                                              </option>
                                          </select>
                                                  </div>
                                                  <div style="color:maroon" role="alert" ng-messages="editPaymentPlan['ClassPayID' + rowiterpcp.pcpid].$error" class="has-error">
                                                    <div ng-message="required">You did not enter a field</div>
                                                    <div ng-message="minlength">Your field is too short</div>
                                                    <div ng-message="maxlength">Your field is too long</div>
                                                  </div>
                                                </div>
                                              </td>
                                              <td class="col-md-2">
                                                <span> <a ng-click="vmpayment.removePaymentPay(rowiterpcp)" role="button" class="btn btn-red" style="padding:  0px 14px;" ><i class="fa fa-trash-o"></i>&nbsp; Remove</a>
                                    </span>
                                              </td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                  </div>
                  </div>
                </div>
              </div>
            </div>

      </uib-tab>
      <uib-tab index="4" id="tab-studenthist" heading="Student History" select="vmstudent.setActiveTab(4,'studenthistselect'); histtabShown = !histtabShown" deselect="histtabShown = !histtabShown">
        <div class="row" ng-controller="StudentHistoryController as vmhistory">
          <div class="col-lg-12">
            <div class="panel panel-blue">
              <div class="panel-heading">History</div>
              <div class="panel-body pan">
                <div ui-grid="vmhistory.gridOptions" ui-grid-pagination ui-grid-cellNav ui-grid-auto-resize class="mygrid" ng-if="histtabShown">
                </div>
              </div>
            </div>
          </div>
        </div>
      </uib-tab>
    </uib-tabset>


    <!--mlc-->
    </div>
    </div>
