<!DOCTYPE html>
<div id="form-layouts-edittournament" class="row" 
        ng-controller="TournamentController as vmstudent"
        ng-init="active[vmstudent.getActiveTab()]= true"
        >
<div         ng-controller="EventController as vmevent">

    <uib-tabset type="pills" >
      <uib-tab 
            id="tab-student" 
            heading="Enter Participant -->"
            class="tournamentlarge"
            active="active.info"
            select="vmstudent.setActiveTab('info')"
        >
        <div class="row">
          <div> 
            <div class="col-lg-12">
              <div class="panel panel-blue">
                <div class="panel-heading">Tournament Participant</div>
                <div class="panel-body pan">

                  <div class="table-tools">
                  </div>
                
                  <form action="" novalidate name="editstudent" class="form-horizontal" >
                    <div class="row">
                        <div ng-controller="ModalNewStudentController as vmmodal">
                  <div class="col-lg-12 mbs" >
                  <div class="col-md-6">
                    <button ng-if="!vmstudent.idpresent()" 
                        type="button" 
                        class="btn btn-red mrs"
                        ng-disabled="editstudent.$invalid"
                        ng-click="vmmodal.openmodal()" ><i class="fa fa-plus"></i>&nbsp; Register New</button>
                    <button ng-if="vmstudent.idpresent()" 
                        type="button" class="btn btn-red mrs"
                        ng-disabled="editstudent.$invalid"
                        ng-click="vmmodal.openmodal()" ><i class="fa fa-plus"></i>&nbsp; Register Another</button>
                    <div ng-show="vmevent.isRegistered()">
                        You have {{vmevent.registeredStudents.length}} registered Participants</div>
                    <div ng-repeat="stu in vmevent.registeredStudents">
                        <div class="col-md-3"><span>
                            <a role="button" class="btn btn-blue" 
                            style="padding:  0px 14px;" 
                            ng-disabled="editstudent.$invalid"
                            href="./#/tournament/id/{{stu.ContactID}}" >Edit {{stu.FirstName}} 
                            </a></span></div>
                    </div>
                    </div>
                  <div class="col-md-6">
                    <button ng-if="vmstudent.idpresent()"
                        type="button" class="btn btn-green mrs" 
                            ng-disabled="editstudent.$invalid"
                        ng-click="active['tournament']= true" >Next &nbsp; <i class="fa fa-arrow-right"></i></button>
                    </div>
                  </div>

                  

                            <script id="newStudent.html" type="text/ng-template">
                                <div class="modal-header">
                          <h3 class="modal-title">Create New Student</h3>
                        </div>
                        <div class="modal-body">
<!--<pre>{{vmnew.message}}</pre> -->
                            <form action="" novalidate name="newstudent" class="form-horizontal">
                              <div class="form-body pal">
                               <div class="row">
                                 <div class="col-md-6">
                                  <div  class="form-group">
                                    <label for="inputFirstName" class="control-label">First Name </label>
                                      <input id="inputFirstName" type="text" placeholder="First Name" name="FirstName" 
                                      ng-model="vmnew.FirstName" 
                                      required
                                      minLength="2" maxLength="50"  class="form-control">
                                  </div>
                                 </div>
                                 <div class="col-md-6">
                                  <div  class="form-group">
                                    <label for="inputLastName" class="control-label">LastName </label>
                                      <input id="inputLastName" type="text" placeholder="Last Name" name="LastName" 
                                      ng-model="vmnew.LastName" 
                                      required
                                      minLength="2" maxLength="50" class="form-control">
                                  </div>
                                 </div>
                               </div>
                               <div class="row">
                                 <div class="col-md-12">
                                  <div  class="form-group">
                                    <label for="inputEmail" class="control-label">Email </label>
                                      <input id="inputEmail" type="text" placeholder="Email" name="Email" 
                                      ng-model="vmnew.Email" 
                                      required
                                      minLength="2" maxLength="255"  class="form-control">
                                  </div>
                                 </div>
                                </div>
                             </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                          <button class="btn btn-primary" type="button" ng-click="vmnew.submit()">Submit</button>
                          <button class="btn btn-warning" type="button" ng-click="vmnew.cancel()">Cancel</button>
                        </div>
                    </script>
                        </div>    
                    </div>

                    <div class="form-body pal" ng-if="vmstudent.idpresent()">
                      <h3 class="block-heading">Participant Information</h3>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.FirstName.$invalid, 'has-success': !editstudent.FirstName.$invalid}" class="form-group">
                            <label for="inputFirstName" class="control-label">First Name </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.FirstName.$dirty" ng-class="editstudent.FirstName.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputFirstName" type="text" placeholder="First Name" name="FirstName" ng-model="vmstudent.students.FirstName" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="50" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control" required>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.FirstName.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.LastName.$invalid, 'has-success': !editstudent.LastName.$invalid}" class="form-group">
                            <label for="inputLastName" class="control-label">LastName </label>
                            <div class="input-icon right">
                            <i data-hover="tooltip" 
                                data-original-title="Correct" 
                                ng-show="editstudent.LastName.$dirty" 
                                ng-class="editstudent.LastName.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputLastName" 
                                type="text" placeholder="Last Name" 
                                name="LastName" 
                                ng-model="vmstudent.students.LastName" 
                                ng-change="vmstudent.updateStudent()" 
                                minLength="2" maxLength="50" 
                                ng-model-options=
                                "{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" 
                                class="form-control" required>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.LastName.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                    <div class="row">
                        <div class="col-md-6">
                          <div class="form-group" ng-class=
                          "{'has-error': editstudent.Email.$invalid, 'has-success': !editstudent.Email.$invalid}">
                          <label class="control-label" for="inputEmail">Email</label>

                            <div class="input-icon right">
                              <i class="glyphicon tooltips" 
                                data-hover="tooltip"
                                data-original-title="Correct" 
                                ng-class=
                              "editstudent.Email.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'"
                                ng-show="editstudent.Email.$dirty"></i> 
                             <input class="form-control"
                                id="inputEmail" 
                                maxlength="255" 
                                name="Email" 
                                ng-change=
                                "vmstudent.updateStudent()" ng-model="vmstudent.students.Email"
                                ng-model-options=
                                "{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                              placeholder="Email Address" type="email" required>
                            </div>


                            <div class="has-error" ng-messages="editstudent.Email.$error" role=
                            "alert" style="color:maroon">
                              <div ng-message="required">
                                You did not enter a field
                              </div>


                              <div ng-message="minlength">
                                Your field is too short
                              </div>


                              <div ng-message="maxlength">
                                Your field is too long
                              </div>


                              <div ng-message="email">
                                Your email is missing @ and/or a period
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div class="form-group" ng-class=
                          "{'has-error': editstudent.Phone.$invalid, 'has-success': !editstudent.Phone.$invalid}">
                          <label class="control-label" for="inputPhone">Phone</label>

                            <div class="input-icon right">
                              <i class="glyphicon tooltips" data-hover="tooltip"
                              data-original-title="Correct" 
                              ng-class=
                              "editstudent.Phone.$invalid ? 'glyphicon-remove' : 'glyphicon-ok'"
                              ng-show="editstudent.Phone.$dirty"></i> 
                              <input class="form-control"
                              id="inputPhone" name="Phone" ng-change="vmstudent.updateStudent()"
                              ng-model="vmstudent.students.Phone" ng-model-options=
                              "{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }"
                              placeholder="" type="text" ui-mask="(999) 999-9999" required>
                            </div>
                            <div class="has-error" ng-messages="editstudent.Phone.$error" role=
                            "alert" style="color:maroon">
                              <div ng-message="required">
                                You did not enter a field
                              </div>
                              <div ng-message="minlength">
                                Your field is too short
                              </div>
                              <div ng-message="maxlength">
                                Your field is too long
                              </div>
                              <div ng-message="email">
                                Your email is missing @ and/or a period
                              </div>
                            </div>
                          </div>
                        </div>
                    </div>

                      <div class="row">
                        <div class="col-md-4">
                          <label for="inputBirthday" class="control-label">Birthday </label>
                          <div ng-class="{'has-error': editstudent.Birthday.$invalid, 'has-success': !editstudent.Birthday.$invalid}" class="form-group">
                            <div class="col-md-6">
                              <div class="input-icon right">
                                <i ng-click="vmstudent.dateopen($event)" 
                                    data-hover="tooltip" data-original-title="Correct" 
                                    ng-show="editstudent.Birthday.$dirty" 
                                    ng-class="editstudent.Birthday.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " 
                                    class="glyphicon tooltips"></i>
                                <input id="inputBirthday" 
                                    type="text" placeholder="yyyy-mm-dd" 
                                    name="Birthday" 
                                    ng-model="vmstudent.students.Birthday" 
                                    ng-change="vmstudent.updateStudent()" 
                                    is-open="vmstudent.status.opened" 
                                    uib-datepicker-popup="{{vmstudent.bdateformat}}" 
                                    ng-model-options=
                                    "{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" 
                                    class="form-control" required>
                              </div>
                            </div>
                            <div class="col-md-1">
                              <button type="button" class="btn btn-default" ng-click="vmstudent.dateopen($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                            </div>
                            <div class="col-md-3 has-error" 
                                    style="color:maroon" role="alert" 
                                    ng-messages="editstudent.Birthday.$error" >
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                            
                          </div>

                        </div>
                        <div class="col-md-2">
                          <label for="age" class="control-label">Age </label>
                          <div class="form-control">
                          {{vmstudent.age(vmstudent.students.Birthday)}}</div>    
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.sex.$invalid, 'has-success': !editstudent.sex.$invalid}" class="form-group">
                            <label for="inputsex" class="control-label">Gender </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.sex.$dirty" ng-class="editstudent.sex.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputsex" type="text" name="sex" 
                              ng-model="vmstudent.students.sex" 
                              ng-change="vmstudent.updateStudent()" 
                              minLength="" maxLength="" 
                              ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" 
                              class="form-control" required>
                                <option ng-repeat="iter in vmstudent.genders.availableOptions" 
                                ng-selected="{{iter.name==vmstudent.students.sex}}" 
                                placeholder="Select" 
                                value="{{iter.id}}">{{iter.name}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.sex.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        
                      
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.Parent.$invalid, 'has-success': !editstudent.Parent.$invalid}" class="form-group">
                            <label for="inputParent" class="control-label">Parent </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.Parent.$dirty" ng-class="editstudent.Parent.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputParent" type="text" placeholder="Parent Name" name="Parent" ng-model="vmstudent.students.Parent" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="30" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control">
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.Parent.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.EmergencyContact.$invalid, 'has-success': !editstudent.EmergencyContact.$invalid}" class="form-group">
                            <label for="inputEmergencyContact" class="control-label">Emergency Contact </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.EmergencyContact.$dirty" ng-class="editstudent.EmergencyContact.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <input id="inputEmergencyContact" type="text" placeholder="Name if different than parent" name="EmergencyContact" ng-model="vmstudent.students.EmergencyContact" ng-change="vmstudent.updateStudent()" minLength="2" maxLength="80" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control" required>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.EmergencyContact.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-12">
                          <div ng-class="{'has-error': editstudent.medicalConcerns.$invalid, 'has-success': !editstudent.medicalConcerns.$invalid}" class="form-group">
                            <label for="inputmedicalConcerns" class="control-label">Medical Concerns </label>
                            <div class="input-icon right"><i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.medicalConcerns.$dirty" ng-class="editstudent.medicalConcerns.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <textarea id="inputmedicalConcerns" type="text" placeholder="Enter Medical concerns" name="medicalConcerns" ng-model="vmstudent.students.medicalConcerns" ng-change="vmstudent.updateStudent()" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control"></textarea>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.medicalConcerns.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <h3 class="block-heading">Karate Information</h3>
                      <div class="row">
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.CurrentRank.$invalid, 'has-success': !editstudent.CurrentRank.$invalid}" class="form-group">
                            <label for="inputCurrentRank" class="control-label">Rank </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.CurrentRank.$dirty" ng-class="editstudent.CurrentRank.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputCurrentRank" type="text" name="CurrentRank" ng-model="vmstudent.students.CurrentRank" ng-change="vmstudent.updateStudent()" minLength="" maxLength="" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" class="form-control" required>
                                <option ng-repeat="iter in vmstudent.RankList.rankList" ng-selected="{{iter.ranklist==vmstudent.students.CurrentRank}}" placeholder="Select" value="{{iter.ranklist}}">{{iter.ranklist}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.CurrentRank.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                          <div ng-class="{'has-error': editstudent.StudentSchool.$invalid, 'has-success': !editstudent.StudentSchool.$invalid}" class="form-group">
                            <label for="inputStudentSchool" class="control-label">School </label>
                            <div class="input-icon right">
                              <i data-hover="tooltip" data-original-title="Correct" ng-show="editstudent.StudentSchool.$dirty" ng-class="editstudent.StudentSchool.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
                              <select id="inputStudentSchool" 
                              type="text" name="StudentSchool" 
                              ng-model="vmstudent.students.StudentSchool" 
                              ng-change="vmstudent.updateStudent()" 
                              minLength="" maxLength="" 
                              ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 1500, 'blur': 0 } }" 
                              class="form-control" required>
                                <option ng-repeat="iter in vmstudent.StudentList.StudentSchoolList" 
                                ng-selected="{{iter.listkey==vmstudent.students.StudentSchool}}" 
                                placeholder="Select" 
                                value="{{iter.listkey}}">{{iter.listvalue}}</option>
                              </select>
                            </div>
                            <div style="color:maroon" role="alert" ng-messages="editstudent.StudentSchool.$error" class="has-error">
                              <div ng-message="required">You did not enter a field</div>
                              <div ng-message="minlength">Your field is too short</div>
                              <div ng-message="maxlength">Your field is too long</div>
                              <div ng-message="email">Your email is missing @ and/or a period</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <div class="form-group">
                            <label for="createdby" class="control-label">Created By </label>
                            <div class="input-icon right">
                            <p>{{vmstudent.students.createdby}}</p>
                            </div>
                          </div>
                        </div>
                        <div class="col-md-6">
                        </div>
                      </div>

                    </div>
                  </form>
                  <div class="col-lg-12 mbs">
                    <div class="col-md-6">
                    </div>
                    <div class="col-md-6">
                    <button ng-if="vmstudent.idpresent();" 
                        ng-disabled="editstudent.$invalid" 
                        type="button" class="btn btn-green mrs" 
                        ng-click="active['tournament']= true" >Next &nbsp; 
                            <i class="fa fa-arrow-right"></i></button>
                    
                    </div>
                  </div>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </uib-tab> 
      <uib-tab 
            id="tab-student" 
            heading="Register for Tournament -->"
            class="tournamentlarge"
            active="active.tournament"
            ng-disabled="editstudent.$invalid"
            select="vmevent.notify('Select students to register');vmstudent.setActiveTab('tournament');vmstudent.activate();tournamenttabShown = !tournamenttabShown" deselect="tournamenttabShown = !tournamenttabShown" >
        <div >

            <div class="col-lg-12">
                <div class="row" >
          
              <form action="" novalidate name="edittournament" class="form-horizontal" >
                <div class="form-body pal">
                  <div class=row>
                        <div class="col-md-3">
                            <label for="query" class="control-label">Select Tournament </label>
                            <div class="input-icon right">
                              <select id="inputevent" type="text" name="event" 
                              ng-model="vmevent.eventSelected" 
                              ng-change="vmevent.setEventInfo($item)" 
                              class="form-control" required>
                                <option ng-repeat="item in vmevent.eventlist" 
                                ng-selected="{{item.event==vmevent.eventSelected}}" 
                                placeholder="Select" 
                                value="{{item.event}}">{{item.event}}</option>
                              </select>
                            </div>
                        </div>
                  
                  
<!--                      <div class="col-md-3">
                        <label for="query" class="control-label">Select Tournament</label>
                        <ui-select  ng-model="vmevent.eventSelected" 
                                    theme="select2" 
                                    ng-disabled="disabled" 
                                    on-select="vmevent.setEventInfo($item)"
                                    style="width: 300px;" 
                                    title="Choose an event"
                                    required>
                          <ui-select-match placeholder="Select the event...">{{$select.selected.event}}</ui-select-match>
                          <ui-select-choices 
                          repeat="event in vmevent.eventlist | filter: $select.search track by $index"
                          refresh="vmevent.getEventNames($select.search)"
                          refresh-delay="0">
                            <small>
                        <span ng-bind-html="event.event | highlight: $select.search"></span>
                            </small>
                          </ui-select-choices>
                        </ui-select>
        
                      </div>
-->                      <div class="col-md-2">
                        <label for="EventDate" class="control-label">Event Date</label>
                          <p>{{vmevent.EventInfo.EventDate}}</p>
                      </div>
                      <div class="col-md-2">
                        <label for="EventTimes" class="control-label">Event Time</label>
                          <p>Starts:{{vmevent.EventInfo.EventStart}}</p>
                          <p>Ends:{{vmevent.EventInfo.EventEnd}}</p>
                      </div>
                      <div class="col-md-5">
                        <label for="Location" class="control-label">Location</label>
                          <p>{{vmevent.EventInfo.Location}}</p>
                      </div>
                  </div>
                </div>  
              </form>
          
             </div>
            </div>            

            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-green">
                        <div class="panel-heading">Select the Participants</div>
                        <div class="panel-body pan">
                  <div class="col-lg-12 mbs">
                      <div class="col-md-6">
                        <button ng-if="vmstudent.idpresent()" type="button" 
                            class="btn btn-blue mrs" 
                            ng-click="active['info']= true" >
                            <i class="fa fa-arrow-left"></i> &nbsp; Back 
                            </button>
                        </div>
                      <div class="col-md-6">
                        <button ng-if="vmstudent.idpresent()" type="button" 
                            class="btn btn-orange mrs" 
                            ng-click="active['payment']= true" >Next &nbsp; 
                            <i class="fa fa-arrow-right"></i>
                            </button>
                        </div>
                  </div>
                  <div class="row">      
                    <div class="col-md-12">
                        <div ui-grid="vmevent.gridTournamentOptions" 
                            ui-grid-pagination ui-grid-cellNav ui-grid-auto-resize 
                            ui-grid-resize-columns ui-grid-edit
                            
                            ng-style="{height: (30*4)+132+'px'}" 
                            class="mygrid" >
                        </div>
                    </div>
                  </div>
                  <div class="col-lg-12 mbs">
                      <div class="col-md-6">
                        <button  type="button" class="btn btn-blue mrs" ng-click="active['info']= true" ><i class="fa fa-arrow-left"></i> &nbsp; Go back to add more </button>
                        </div>
                      <div class="col-md-3">
                        </div>
                      <div class="col-md-3">
                        <button type="button" class="btn btn-orange mrs"
                        ng-if="vmevent.isRegistered()"
                        ng-click="active['payment']= true" >Move forward to Pay &nbsp; <i class="fa fa-arrow-right"></i></button>
                        </div>
                  </div>
              </div>
                    </div>
                </div>
            </div>
            
        </div>                        
      </uib-tab>      
      <uib-tab
             id="tab-student" 
             heading="Pay for Tournament"
            ng-disabled="editstudent.$invalid"
             class="tournamentlarge"
             active="active.payment"
             select="vmstudent.setActiveTab('payment');vmevent.getEventDetails()"
             >
        <div class="row" >
          <div class="col-lg-12">
            <div class="panel panel-orange">
              <div class="panel-heading">Payment</div>
              <div class="panel-body pan">
<!--              <div class="row" >      
                <div class="col-md-12">
                    <div ui-grid="vmevent.gridPaymentOptions" 
                        ui-grid-pagination ui-grid-cellNav ui-grid-auto-resize 
                        ui-grid-resize-columns
                        ui-grid-selection
                        ng-style="{height: (30*4)+132+'px'}" 
                        class="mygrid" >
                    </div>
                    
                </div>
                
              </div> -->
              
<div class="portlet portlet-primary">
      <div class="portlet-body">
              <div class="row col-md-3 col-md-offset-9">
                <form target="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post" ><input type="hidden" name="cmd" value="_s-xclick"><input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
"><input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_viewcart_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!"><img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1"></form>
              </div>
      
        <table class="table table-hover table-striped">
          <thead>
            <tr>
              <th>Last Name</th>
              <th>First Name</th>
              <th>Event Type</th>
              <th>Payment</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="item in vmevent.gridPaymentOptions.data">
                        <td>{{item.LastName}}</td>
                        <td>{{item.FirstName}}</td>
                        <td>
                            <div ng-if="item.EventType == 'Kata:1:Sparring::Weapons:1'"> 
                            Two Events: Kata/Weapons
                            </div>
                            <div ng-if="item.EventType == 'Kata::Sparring:1:Weapons:1'"> 
                            Two Events: Sparring/Weapons
                            </div>
                            <div ng-if="item.EventType == 'Kata:1:Sparring:1:Weapons:'"> 
                            Two Events: Kata/Sparring
                            </div>
                            <div ng-if="item.EventType == 'Kata:1:Sparring:1:Weapons:1'"> 
                            Three Events: Kata/Sparring/Weapons 
                            </div>
                        </td>
                        <td>
                        
                        <div 
                            ng-if="item.EventType == 'Kata:1:Sparring::Weapons:1'"
                            ng-hide="item.Paid == 1"
                        > 
<form target="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="{{vmevent.getvalue(2)}}">
    <input type="hidden" name="item_name"
        value="Kata/Weapons Registration - Early Bird - for {{item.FirstName}}">
    <input type="hidden" name="shopping_url"
        value="http://events.villaris.us/#/tournament">        
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_cart_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
    </form>                            
                        </div>
                        <div 
                            ng-hide="item.Paid == 1"
                        ng-if="item.EventType == 'Kata::Sparring:1:Weapons:1'"
                        > 
<form target="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="{{vmevent.getvalue(2)}}">
    <input type="hidden" name="item_name"
        value="Sparring/Weapons Registration - Early Bird - for {{item.FirstName}}">
    <input type="hidden" name="shopping_url"
        value="http://events.villaris.us/#/tournament">        
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_cart_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!"><img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1"></form>                            
                        </div>
                        <div 
                            ng-hide="item.Paid == 1"
                        ng-if="item.EventType == 'Kata:1:Sparring:1:Weapons:'"
                        > 
<form target="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="{{vmevent.getvalue(2)}}">
    <input type="hidden" name="item_name"
        value="Kata/Sparring Registration - Early Bird - for {{item.FirstName}}">
    <input type="hidden" name="shopping_url"
        value="http://events.villaris.us/#/tournament">        
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_cart_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!"><img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1"></form>                            
                        </div>
                        <div 
                            ng-hide="item.Paid == 1"
                        ng-if="item.EventType == 'Kata:1:Sparring:1:Weapons:1'"
                        > 
<form target="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post">
<input type="hidden" name="cmd" value="_s-xclick">
<input type="hidden" name="hosted_button_id" value="{{vmevent.getvalue(3)}}">
    <input type="hidden" name="item_name"
        value="Kata/Sparring/Weapons Registration - Early Bird - for {{item.FirstName}}">
    <input type="hidden" name="shopping_url"
        value="http://events.villaris.us/#/tournament">        
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_cart_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!"><img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1"></form>                            
                        </div>
                        <div 
                            ng-show="item.Paid == 1"
                        > Paid - See you there!
                        </div>
                            
                        </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>              

                    
              </div>
            </div>
          </div>
        </div>
                        
        </uib-tab>      
    </uib-tabset>

    </div>
</div>
