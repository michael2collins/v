<div class="modal-content">
 <form name="vm.contactform" novalidate>
  <div class="modal-header">
   <h1>Email Form</h1>
  </div>
  <div class="modal-body">
   <div class="row">
    <div class="col-md-12">
     <div class="panel panel-default">
      <div class="panel-heading">
       <h2 class="panel-title">Mail</h2>
      </div>
      <div class="panel-body">
       <div class="row">
        <div class="col-md-12" style="height: 120px;">
         <div class="col-md-8">
          <div class="select-box">
           <ui-select ng-model="vm.emailpick" theme="bootstrap" multiple tagging="vm.tagTransform" reset-search-input="true" style="width: 300px;" on-select="vm.setEmailFromPick($select.selected)" title="Choose an email" append-to-body="false">
            <ui-select-match placeholder="Filter the emails...">{{$item.email}}</ui-select-match>
            <ui-select-choices repeat="e in vm.refreshemaillist.refreshemaillist | filter: $select.search track by e.ID" refresh="vm.refreshemails($select.search)" refresh-delay="0">
             <small>
               {{e.FirstName}}&nbsp;
                   <span ng-bind-html="e.email | highlight: $select.search"></span>
             </small>
            </ui-select-choices>
           </ui-select>
          </div>
         </div>
         <div class="col-md-4">
          <button type="button" ng-click="vm.addTo()" class="btn  btn-primary">Add To List</button>
          <button type="button" ng-click="vm.addCC()" class="btn  btn-primary">Add CC List</button>
          <button type="button" ng-click="vm.addBCC()" class="btn  btn-primary">Add BCC List</button>
         </div>
        </div>
       </div>
       <div ng-show="vm.eventResult">
        <div class="col-lg-12">
         <label for="inputEmail" class="control-label">To</label>
         <div ng-repeat="e in vm.inputEmail.item">{{e.email}}</div>
        </div>
        <div class="col-lg-12">
         <label for="inputCC" class="control-label">Cc</label>
         <div ng-repeat="e in vm.inputCC.item">{{e.email}}</div>
        </div>
        <div class="col-lg-12">
         <label for="inputBCC" class="control-label">Bcc</label>
         <div ng-repeat="e in vm.inputBCC.item">{{e.email}}</div>
        </div>
        <div class="col-lg-12">
         <div class="form-group" ng-class="{'has-error': vm.contactform.inputSubject.$invalid, 'has-success': !vm.contactform.inputSubject.$invalid}">
          <label for="inputSubject" class="control-label">Subject</label>
          <div class="input-icon right"><i data-hover="tooltip" ng-show="vm.contactform.inputSubject.$dirty" ng-class="vm.contactform.inputSubject.$invalid ? 'glyphicon-remove' : 'glyphicon-ok' " class="glyphicon tooltips"></i>
           <input ng-model="vm.input.Subject" type="text" class="form-control" id="inputSubject" name="inputSubject" placeholder="Subject Message" required>
          </div>
         </div>
         <div style="color:maroon" role="alert" ng-messages="vm.contactform.inputSubject.$error" class="has-error">
          <div ng-message="required">You did not enter a field</div>
         </div>
        </div>
        <div class="col-lg-12">
         <div class="form-group">
          <label for="inputMessage" class="control-label">Message</label>
          <textarea ui-tinymce="vm.tinymceOptions" ng-change="vm.messageChange(input)" ng-model="vm.input.Message" class="form-control" name="inputMessage" placeholder="Your Message..."></textarea>
         </div>
        </div>
        <div class="col-lg-offset-2 col-lg-10">
         <div class="form-group">
          <!--           <button type="button" ng-click="form.contactform.$valid && submit(form)" class="btn btn-default"  -->
          <button type="button" ng-click="vm.submitForm()" ng-disabled="vm.submitButtonDisabled" class="btn btn-green"> Send Message</button>
         </div>
        </div>
       </div>

       <p ng-class="result" style="padding: 15px; margin: 0;">{{ vm.resultMessage }}</p>
      </div>
     </div>

    </div>
   </div>
  </div>
  <div class="modal-footer">
   <button type="button" class="btn btn-green" ng-click="vm.cancel()">Close</button>
  </div>
 </form>
</div>
